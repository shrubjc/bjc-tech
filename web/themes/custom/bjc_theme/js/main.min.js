
jQuery(document).ready(function(o){var s=o(window).scrollTop();o(window).scroll(function(){var e=o(window).scrollTop();s<e&&e<100?(o(".site-newheader").addClass("on-scroll-down"),o(".site-newheader").removeClass("on-scroll-up")):(o(".site-newheader").removeClass("on-scroll-down"),o(".site-newheader").addClass("on-scroll-up"),o(".site-newheader").removeClass("on-pin")),e<100&&(o(".site-newheader").removeClass("on-scroll-down"),o(".site-newheader").removeClass("on-scroll-up")),s<e&&600<e&&o(".site-newheader").addClass("on-pin"),s=e})});



//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuaW1hdGlvbi5qcyIsImhlYWRlci5qcyIsImlubmVyLXBhZ2UtZmxleC5qcyIsImxpc3QtcGFnZXMuanMiLCJtYWluLmpzIl0sIm5hbWVzIjpbImpRdWVyeSIsImRvY3VtZW50IiwicmVhZHkiLCIkIiwicG9zaXRpb24iLCJ3aW5kb3ciLCJzY3JvbGxUb3AiLCJzY3JvbGwiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBQSxPQUFPQyxRQUFRLEVBQUVDLE1BQU0sU0FBU0MsR0FHNUIsSUFBSUMsRUFBV0QsRUFBRUUsTUFBTSxFQUFFQyxVQUFVLEVBRW5DSCxFQUFFRSxNQUFNLEVBQUVFLE9BQU8sV0FDYixJQUFJQSxFQUFTSixFQUFFRSxNQUFNLEVBQUVDLFVBQVUsRUFDckJGLEVBQVRHLEdBQXFCQSxFQUFTLEtBQy9CSixFQUFFLGlCQUFpQixFQUFFSyxTQUFTLGdCQUFnQixFQUM5Q0wsRUFBRSxpQkFBaUIsRUFBRU0sWUFBWSxjQUFjLElBRS9DTixFQUFFLGlCQUFpQixFQUFFTSxZQUFZLGdCQUFnQixFQUNqRE4sRUFBRSxpQkFBaUIsRUFBRUssU0FBUyxjQUFjLEVBQzVDTCxFQUFFLGlCQUFpQixFQUFFTSxZQUFZLFFBQVEsR0FHeENGLEVBQVMsTUFDVkosRUFBRSxpQkFBaUIsRUFBRU0sWUFBWSxnQkFBZ0IsRUFDakROLEVBQUUsaUJBQWlCLEVBQUVNLFlBQVksY0FBYyxHQUdyQ0wsRUFBVEcsR0FBOEIsSUFBVEEsR0FDdEJKLEVBQUUsaUJBQWlCLEVBQUVLLFNBQVMsUUFBUSxFQUd4Q0osRUFBV0csQ0FFZixDQUFDLENBMElMLENBQUM7QUNyS0Q7QUNBQTtBQ0FBIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8galF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XG5cbi8vICAgICAvL0dyZWVuc29jayBDb25maWdcbi8vICAgICBnc2FwLmNvbmZpZyh7XG4vLyAgICAgICBudWxsVGFyZ2V0V2FybjogZmFsc2UsXG4vLyAgICAgfSk7XG4vLyAgICAgLy9HcmFkaWVudCBBbmltYXRpb25zXG4vLyAgICAgJCgnLmlubmVyLWhlcm8uYmFja2dyb3VuZC1yb3lhbC1ibHVlLCAuc2luZ2xlLWJsb2dfaGVybywgLmJsb2ctbGlzdF9oZXJvJykuZWFjaChmdW5jdGlvbigpe1xuLy8gICAgICAgICBjb25zdCBiMSA9IFwibGluZWFyLWdyYWRpZW50KDI2Ni41ZGVnLCAjNzBBRkQ3IC0zOC4zNSUsICMwMDUyOUIgNTYuMTclLCAjMDAzMTVEIDEzNC42MiUpXCI7XG4vLyAgICAgICAgIGNvbnN0IGIyID0gXCJsaW5lYXItZ3JhZGllbnQoMTdkZWcsICM3MEFGRDcgLTM4LjM1JSwgIzAwNTI5QiA1Ni4xNyUsICMwMDMxNUQgMTM0LjYyJSlcIjtcbi8vICAgICAgICAgZ3NhcC5mcm9tVG8oXCIuYmFja2dyb3VuZC1yb3lhbC1ibHVlLCAuc2luZ2xlLWJsb2dfaGVybywgLmJsb2ctbGlzdF9oZXJvXCIsIHtiYWNrZ3JvdW5kOiBiMX0sIHtlYXNlOiBcIm5vbmVcIiwgZHVyYXRpb246IDEwLCBiYWNrZ3JvdW5kOiBiMiwgcmVwZWF0OiAtMSwgeW95bzogdHJ1ZX0pO1xuLy8gICAgIH0pO1xuLy8gICAgICQoJy5pbm5lci1oZXJvLmJhY2tncm91bmQtdGVhbCcpLmVhY2goZnVuY3Rpb24oKXtcbi8vICAgICAgICAgY29uc3QgYjEgPSBcImxpbmVhci1ncmFkaWVudCgyNjYuNWRlZywgIzI4QkFEOSAtMTMuMTElLCAjMTE5RkJEIDUwLjA5JSwgIzAwOENBQSAxMDIuNTUlKVwiO1xuLy8gICAgICAgICBjb25zdCBiMiA9IFwibGluZWFyLWdyYWRpZW50KDE3ZGVnLCAjMjhCQUQ5IC0xMy4xMSUsICMxMTlGQkQgNTAuMDklLCAjMDA4Q0FBIDEwMi41NSUpXCI7XG4vLyAgICAgICAgIGdzYXAuZnJvbVRvKFwiLmJhY2tncm91bmQtdGVhbFwiLCB7YmFja2dyb3VuZDogYjF9LCB7ZWFzZTogXCJub25lXCIsIGR1cmF0aW9uOiAxMCwgYmFja2dyb3VuZDogYjIsIHJlcGVhdDogLTEsIHlveW86IHRydWV9KTtcbi8vICAgICB9KTtcbi8vICAgICAkKCcuaW5uZXItaGVyby5iYWNrZ3JvdW5kLW9yYW5nZScpLmVhY2goZnVuY3Rpb24oKXtcbi8vICAgICAgICAgY29uc3QgYjEgPSBcImxpbmVhci1ncmFkaWVudCgyNjYuNWRlZywgI0Q1NkYxQiAtMTMuMTElLCAjOTQxQjAwIDEwMi41NSUpXCI7XG4vLyAgICAgICAgIGNvbnN0IGIyID0gXCJsaW5lYXItZ3JhZGllbnQoMTdkZWcsICNENTZGMUIgLTEzLjExJSwgIzk0MUIwMCAxMDIuNTUlKVwiO1xuLy8gICAgICAgICBnc2FwLmZyb21UbyhcIi5iYWNrZ3JvdW5kLW9yYW5nZVwiLCB7YmFja2dyb3VuZDogYjF9LCB7ZWFzZTogXCJub25lXCIsIGR1cmF0aW9uOiA4LCBiYWNrZ3JvdW5kOiBiMiwgcmVwZWF0OiAtMSwgeW95bzogdHJ1ZX0pO1xuLy8gICAgIH0pO1xuLy8gICAgICQoJy5pbm5lci1oZXJvLmJhY2tncm91bmQtcHVycGxlJykuZWFjaChmdW5jdGlvbigpe1xuLy8gICAgICAgICBjb25zdCBiMSA9IFwibGluZWFyLWdyYWRpZW50KDI2Ni41ZGVnLCAgIzdBMjU4OCAtMTMuMTElLCAjNEQwNjU4IDEwMi41NSUpXCI7XG4vLyAgICAgICAgIGNvbnN0IGIyID0gXCJsaW5lYXItZ3JhZGllbnQoMTdkZWcsICAjN0EyNTg4IC0xMy4xMSUsICM0RDA2NTggMTAyLjU1JSlcIjtcbi8vICAgICAgICAgZ3NhcC5mcm9tVG8oXCIuYmFja2dyb3VuZC1wdXJwbGVcIiwge2JhY2tncm91bmQ6IGIxfSwge2Vhc2U6IFwibm9uZVwiLCBkdXJhdGlvbjogOCwgYmFja2dyb3VuZDogYjIsIHJlcGVhdDogLTEsIHlveW86IHRydWV9KTtcbi8vICAgICB9KTtcbi8vICAgICAkKCcuaW5uZXItaGVyby5iYWNrZ3JvdW5kLWdyZWVuJykuZWFjaChmdW5jdGlvbigpe1xuLy8gICAgICAgICBjb25zdCBiMSA9IFwibGluZWFyLWdyYWRpZW50KDI2Ni41NGRlZywgIzgxODkzOSAtMTMuMTElLCAjMzM1MzFBIDEwMi41NSUpXCI7XG4vLyAgICAgICAgIGNvbnN0IGIyID0gXCJsaW5lYXItZ3JhZGllbnQoMTdkZWcsICAjODE4OTM5IC0xMy4xMSUsICMzMzUzMUEgMTAyLjU1JSlcIjtcbi8vICAgICAgICAgZ3NhcC5mcm9tVG8oXCIuYmFja2dyb3VuZC1ncmVlblwiLCB7YmFja2dyb3VuZDogYjF9LCB7ZWFzZTogXCJub25lXCIsIGR1cmF0aW9uOiA4LCBiYWNrZ3JvdW5kOiBiMiwgcmVwZWF0OiAtMSwgeW95bzogdHJ1ZX0pO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgLy9IZXJvc1xuLy8gICAgIGxldCBwYXJhbGxheCA9IGdzYXAudGltZWxpbmUoKVxuLy8gICAgICAgICAudG8oJy5pbm5lci1oZXJvIC5jb250YWluZXIsIC5zaW5nbGUtYmxvZ19oZXJvIC5jb250YWluZXIsIC5ibG9nLWxpc3RfaGVybyAuY29udGFpbmVyJywge1xuLy8gICAgICAgICAgICAgeTotMTAwLFxuLy8gICAgICAgICAgICAgc2Nyb2xsVHJpZ2dlcjp7XG4vLyAgICAgICAgICAgICB0cmlnZ2VyOicuaW5uZXItaGVybywgLmhlcm8tYXJlYScsXG4vLyAgICAgICAgICAgICBzdGFydDonLTEwMCcsXG4vLyAgICAgICAgICAgICBlbmQ6J2JvdHRvbScsXG4vLyAgICAgICAgICAgICBzY3J1YjonMC4zJyxcbi8vICAgICAgICAgfVxuLy8gICAgIH0pXG5cblxuXG4vLyAgICAgLy9yZXNvdXJjZXMgcXVpY2sgbGluayBjYXJkc1xuLy8gICAgICQoJy5jb250ZW50LWNhcmRzLCAuYWRkcmVzcy1jYXJkLCAuYWNhZGVtaWMtY2FsZW5kYXItY2FyZHMgLmNhcmQtaXRlbScpLmVhY2goZnVuY3Rpb24oKXtcbi8vICAgICAgICAgY29uc3QgYjEgPSBcImxpbmVhci1ncmFkaWVudCgyNTAuMDNkZWcsICAjRDU2RjFCIDEwMCUsICNGRkM1MEEgMTAwJSlcIjtcbi8vICAgICAgICAgY29uc3QgYjIgPSBcImxpbmVhci1ncmFkaWVudCgyNTAuMDNkZWcsICNGRkM1MEEgMTEuODIlLCAjRDU2RjFCIDE0NS44OSUpXCI7XG4vLyAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdtb3VzZWVudGVyIG1vdXNlbGVhdmUgdG91Y2hlbmQnLCAnLmNvbnRlbnQtY2FyZHNfaXRlbSwgLmFkZHJlc3MtY2FyZCwgLmFjYWRlbWljLWNhbGVuZGFyLWNhcmRzIC5jYXJkLWl0ZW0nLCBmdW5jdGlvbiAoZXYpIHtcbi8vICAgICAgICAgICAgIHZhciBlbCA9IGpRdWVyeSh0aGlzKS5maW5kKCdpJyk7XG4vLyAgICAgICAgICAgICBpZihldi50eXBlID09PSAnbW91c2VlbnRlcicpIHtcbi8vICAgICAgICAgICAgICAgICBUd2Vlbk1heC5zdGFnZ2VyVG8oZWwsIDAuOCwgeydiYWNrZ3JvdW5kLWltYWdlJzogYjEsIGVhc2U6UG93ZXI0LmVhc2VPdXR9LDAuMDcpO1xuLy8gICAgICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgICAgICAgICBUd2Vlbk1heC5zdGFnZ2VyVG8oZWwsIDAuOCwgeydiYWNrZ3JvdW5kLWltYWdlJzogYjIsIGVhc2U6UG93ZXI0LmVhc2VPdXR9LDAuMDcpO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9KTtcbi8vICAgICB9KTtcbi8vICAgICAvLyBIb21lIEhlcm9cbi8vICAgICBsZXQgaGVyb0NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhvbWVwYWdlLWhlcm9fY29udGVudFwiKVxuXG4vLyAgICAgaGVyb0NvbnRlbnQuZm9yRWFjaCggKGVsZW1lbnQpID0+IHtcblxuLy8gICAgICAgICBsZXQgaGVhZGluZ3MgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJoMVwiKVxuLy8gICAgICAgICBsZXQgY29weSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcihcInBcIilcbi8vICAgICAgICAgbGV0IGxpbmtzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmhvbWVwYWdlLWhlcm9fYnV0dG9uc1wiKVxuLy8gICAgICAgICBnc2FwLnNldChbaGVhZGluZ3MsIGNvcHksIGxpbmtzXSxcbi8vICAgICAgICAge29wYWNpdHk6IDAsIHNjYWxlOiAxLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30pXG4vLyAgICAgICAgIGdzYXAuc2V0KGhlYWRpbmdzLCB7c2NhbGU6IDAuOX0pXG4vLyAgICAgICAgIGdzYXAuc2V0KGNvcHksIHt5OiA1MH0pXG4vLyAgICAgICAgIGdzYXAuc2V0KGxpbmtzLCB7eTogNTB9KVxuXG4vLyAgICAgICAgIGxldCB0bCA9IGdzYXAudGltZWxpbmUoKVxuXG4vLyAgICAgICAgIC50byhoZWFkaW5ncywge29wYWNpdHk6IDEsIHNjYWxlOiAxLCB5OiAwLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30sIFwiLT0wLjVcIilcbi8vICAgICAgICAgLnRvKGNvcHksIHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9LCBcIi09MC43XCIpXG4vLyAgICAgICAgIC50byhsaW5rcyx7b3BhY2l0eTogMSwgc2NhbGU6IDEsIHk6IDAsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSwgXCItPTAuOVwiKVxuXG4vLyAgICAgICAgIFNjcm9sbFRyaWdnZXIuY3JlYXRlKHtcbi8vICAgICAgICAgICAgIHRyaWdnZXI6ZWxlbWVudCxcbi8vICAgICAgICAgICAgIHN0YXJ0OlwidG9wIDkwJVwiLFxuLy8gICAgICAgICAgICAgdG9nZ2xlQWN0aW9uczpcInBsYXkgbm9uZSBub25lIG5vbmVcIixcbi8vICAgICAgICAgICAgIGFuaW1hdGlvbjp0bFxuLy8gICAgICAgICB9KVxuXG4vLyAgICAgfSlcblxuXG5cbi8vICAgICAvLyAvL0Z1bGwgV2lkdGgvaW5uZXIgZmxleCBBbmltYXRpb25zXG4vLyAgICAgLy9cbi8vICAgICAvLyAvLzUwLzUwXG4vLyAgICAgbGV0IGNvbnRlbnRJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZnVsbC13aWR0aC1jb250ZW50LmNvbnRlbnQtaW1hZ2UgLmNvbnRlbnQtaW1hZ2VfY29udGVudFwiKVxuXG4vLyAgICAgY29udGVudEltYWdlLmZvckVhY2goIChlbGVtZW50KSA9PiB7XG5cbi8vICAgICAgICAgbGV0IHN1YkhlYWQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJzcGFuXCIpXG4vLyAgICAgICAgIGxldCBoZWFkaW5ncyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcImgyXCIpXG4vLyAgICAgICAgIGxldCBjb3B5ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvcHlcIilcbi8vICAgICAgICAgZ3NhcC5zZXQoW2hlYWRpbmdzLCBzdWJIZWFkLCBjb3B5XSxcbi8vICAgICAgICAge29wYWNpdHk6IDAsIHNjYWxlOiAxLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30pXG4vLyAgICAgICAgIGdzYXAuc2V0KGhlYWRpbmdzLCB7c2NhbGU6IDAuOX0pXG4vLyAgICAgICAgIGdzYXAuc2V0KGNvcHksIHt5OiA1MH0pXG5cbi8vICAgICAgICAgbGV0IHRsID0gZ3NhcC50aW1lbGluZSgpXG5cbi8vICAgICAgICAgLnRvKHN1YkhlYWQsIHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9KVxuLy8gICAgICAgICAudG8oaGVhZGluZ3MsIHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9LCBcIi09MC4xXCIpXG4vLyAgICAgICAgIC50byhjb3B5LCB7b3BhY2l0eTogMSwgc2NhbGU6IDEsIHk6IDAsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSwgXCItPTAuM1wiKVxuXG4vLyAgICAgICAgIFNjcm9sbFRyaWdnZXIuY3JlYXRlKHtcbi8vICAgICAgICAgICAgIHRyaWdnZXI6ZWxlbWVudCxcbi8vICAgICAgICAgICAgIHN0YXJ0OlwidG9wIDkwJVwiLFxuLy8gICAgICAgICAgICAgdG9nZ2xlQWN0aW9uczpcInBsYXkgbm9uZSBub25lIG5vbmVcIixcbi8vICAgICAgICAgICAgIGFuaW1hdGlvbjp0bFxuLy8gICAgICAgICB9KVxuXG4vLyAgICAgfSlcbi8vICAgICAvLzUwLzUwIExpbmtzIHJlcGVhdGVyXG4vLyAgICAgJCgnLmZ1bGwtd2lkdGgtY29udGVudC5jb250ZW50LWltYWdlIC5jb250ZW50LWltYWdlX2NvbnRlbnQnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cbi8vICAgICAgICAgZ3NhcC51dGlscy50b0FycmF5KCcuY29udGVudC1pbWFnZV9jb250ZW50JykuZm9yRWFjaCgoc2VjLCBpKSA9PiB7XG4vLyAgICAgICAgICAgZ3NhcC5zZXQoJy5jb250ZW50LWltYWdlX2NvbnRlbnQgYScsIHtvcGFjaXR5OiAwLCB5OiA1MCwgc2NhbGU6IC45fSksXG5cbi8vICAgICAgICAgICBTY3JvbGxUcmlnZ2VyLmJhdGNoKFwiLmNvbnRlbnQtaW1hZ2VfY29udGVudCBhXCIsIHtcbi8vICAgICAgICAgICAgIG9uRW50ZXI6IGJhdGNoID0+IGdzYXAudG8oYmF0Y2gsIHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgc3RhZ2dlcjoge2VhY2g6IDAuMTUsIGdyaWQ6IFsxLCAxXX0sIG92ZXJ3cml0ZTogdHJ1ZX0pXG4vLyAgICAgICAgICAgfSk7XG4vLyAgICAgICAgIH0pO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgLy9GZWF0dXJlZCBJbWFnZSBjb250ZW50XG4vLyAgICAgbGV0IGZlYXR1cmVkSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZ1bGwtd2lkdGgtY29udGVudC5mZWF0dXJlZC1pbWFnZS1ibG9jayAuY29udGFpbmVyXCIpXG5cbi8vICAgICBmZWF0dXJlZEltYWdlLmZvckVhY2goIChlbGVtZW50KSA9PiB7XG5cbi8vICAgICAgICAgbGV0IGhlYWRpbmdzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaDJcIilcbi8vICAgICAgICAgbGV0IGNvcHkgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29weVwiKVxuLy8gICAgICAgICBsZXQgaW1hZ2UgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2Utd3JhcFwiKVxuLy8gICAgICAgICBnc2FwLnNldChbaGVhZGluZ3MsIGNvcHksIGltYWdlXSxcbi8vICAgICAgICAge29wYWNpdHk6IDAsIHNjYWxlOiAxLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30pXG4vLyAgICAgICAgIGdzYXAuc2V0KGhlYWRpbmdzLCB7c2NhbGU6IDAuOX0pXG4vLyAgICAgICAgIGdzYXAuc2V0KGNvcHksIHt5OiA1MH0pXG4vLyAgICAgICAgIGdzYXAuc2V0KGltYWdlLCB7eTogNTB9KVxuXG4vLyAgICAgICAgIGxldCB0bCA9IGdzYXAudGltZWxpbmUoKVxuXG4vLyAgICAgICAgIC50byhoZWFkaW5ncywge29wYWNpdHk6IDEsIHNjYWxlOiAxLCB5OiAwLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30sIFwiLT0wLjFcIilcbi8vICAgICAgICAgLnRvKGNvcHksIHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9LCBcIi09MC4zXCIpXG4vLyAgICAgICAgIC50byhpbWFnZSx7b3BhY2l0eTogMSwgc2NhbGU6IDEsIHk6IDAsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSwgXCItPTAuNVwiKVxuXG4vLyAgICAgICAgIFNjcm9sbFRyaWdnZXIuY3JlYXRlKHtcbi8vICAgICAgICAgICAgIHRyaWdnZXI6ZWxlbWVudCxcbi8vICAgICAgICAgICAgIHN0YXJ0OlwidG9wIDkwJVwiLFxuLy8gICAgICAgICAgICAgdG9nZ2xlQWN0aW9uczpcInBsYXkgbm9uZSBub25lIG5vbmVcIixcbi8vICAgICAgICAgICAgIGFuaW1hdGlvbjp0bFxuLy8gICAgICAgICB9KVxuXG4vLyAgICAgfSlcblxuLy8gICAgIC8vc3RhdHNcbi8vICAgICBjb25zdCBpdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3RhdCAubnVtYmVyXCIpO1xuLy8gICAgIGxldCB0bCA9IGdzYXAudGltZWxpbmUoKVxuXG4vLyAgICAgLmZyb20oaXRlbXMsIHt0ZXh0Q29udGVudDogMCwgZHVyYXRpb246IDMsIGVhc2U6IFwicG93ZXIxLmluXCIsIHNuYXA6IHsgdGV4dENvbnRlbnQ6IDEgfSwgc3RhZ2dlcjogeyBlYWNoOiAwLjIsXG4vLyAgICAgICAgIG9uVXBkYXRlOiBmdW5jdGlvbigpIHtcbi8vICAgICAgICAgICB0aGlzLnRhcmdldHMoKVswXS5pbm5lckhUTUwgPSAoTWF0aC5jZWlsKHRoaXMudGFyZ2V0cygpWzBdLnRleHRDb250ZW50KSk7XG4vLyAgICAgICAgIH0sXG4vLyAgICAgICB9XG4vLyAgICAgfSk7XG4vLyAgICAgU2Nyb2xsVHJpZ2dlci5jcmVhdGUoe1xuLy8gICAgICAgICB0cmlnZ2VyOicuc3RhdC1ncmlkJyxcbi8vICAgICAgICAgc3RhcnQ6XCJ0b3AgOTAlXCIsXG4vLyAgICAgICAgIHRvZ2dsZUFjdGlvbnM6XCJwbGF5IG5vbmUgbm9uZSBub25lXCIsXG4vLyAgICAgICAgIGFuaW1hdGlvbjp0bFxuLy8gICAgIH0pXG5cbi8vICAgICAvL1Byb2dyYW0gc2xpZGVyXG4vLyAgICAgbGV0IHByb2dyYW1TbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZ1bGwtd2lkdGgtY29udGVudC5wcm9ncmFtLXNsaWRlciAucHJvZ3JhbS1zbGlkZXJfY29udGVudFwiKVxuXG4vLyAgICAgcHJvZ3JhbVNsaWRlci5mb3JFYWNoKCAoZWxlbWVudCkgPT4ge1xuXG4vLyAgICAgICAgIGxldCBzdWJIZWFkID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwic3BhblwiKVxuLy8gICAgICAgICBsZXQgaGVhZGluZ3MgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJoMlwiKVxuLy8gICAgICAgICBsZXQgY29weSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb3B5XCIpXG4vLyAgICAgICAgIGxldCBsaW5rID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmxpbmstYXJyb3dcIilcbi8vICAgICAgICAgZ3NhcC5zZXQoW2hlYWRpbmdzLCBzdWJIZWFkLCBjb3B5LCBsaW5rXSxcbi8vICAgICAgICAge29wYWNpdHk6IDAsIHNjYWxlOiAxLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30pXG4vLyAgICAgICAgIGdzYXAuc2V0KGhlYWRpbmdzLCB7c2NhbGU6IDAuOX0pXG4vLyAgICAgICAgIGdzYXAuc2V0KGNvcHksIHt5OiA1MH0pXG4vLyAgICAgICAgIGdzYXAuc2V0KGxpbmssIHt5OiA1MH0pXG5cbi8vICAgICAgICAgbGV0IHRsID0gZ3NhcC50aW1lbGluZSgpXG5cbi8vICAgICAgICAgLnRvKHN1YkhlYWQsIHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9KVxuLy8gICAgICAgICAudG8oaGVhZGluZ3MsIHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9LCBcIi09MC4xXCIpXG4vLyAgICAgICAgIC50byhjb3B5LCB7b3BhY2l0eTogMSwgc2NhbGU6IDEsIHk6IDAsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSwgXCItPTAuM1wiKVxuLy8gICAgICAgICAudG8obGluayx7b3BhY2l0eTogMSwgc2NhbGU6IDEsIHk6IDAsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSwgXCItPTAuNVwiKVxuXG4vLyAgICAgICAgIFNjcm9sbFRyaWdnZXIuY3JlYXRlKHtcbi8vICAgICAgICAgICAgIHRyaWdnZXI6ZWxlbWVudCxcbi8vICAgICAgICAgICAgIHN0YXJ0OlwidG9wIDkwJVwiLFxuLy8gICAgICAgICAgICAgdG9nZ2xlQWN0aW9uczpcInBsYXkgbm9uZSBub25lIG5vbmVcIixcbi8vICAgICAgICAgICAgIGFuaW1hdGlvbjp0bFxuLy8gICAgICAgICB9KVxuXG4vLyAgICAgfSlcblxuLy8gICAgIC8vTmV3c1xuLy8gICAgIC8vRmVhdHVyZWRcbi8vICAgICBsZXQgcmVjZW50TmV3cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZnVsbC13aWR0aC1jb250ZW50LnJlY2VudC1uZXdzIC5jb250YWluZXJcIilcblxuLy8gICAgIHJlY2VudE5ld3MuZm9yRWFjaCggKGVsZW1lbnQpID0+IHtcblxuLy8gICAgICAgICBsZXQgcG9zdHNIZWFkaW5nID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiaDJcIilcbi8vICAgICAgICAgbGV0IGZlYXR1cmVkSW1nID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZlYXR1cmVkLXBvc3RzIC5wb3N0LWltYWdlXCIpXG4vLyAgICAgICAgIGxldCBmZWF0dXJlZEhlYWRpbmdzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZlYXR1cmVkLXBvc3RzIGg0XCIpXG4vLyAgICAgICAgIGxldCBmZWF0dXJlZENvcHkgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmVhdHVyZWQtcG9zdHMgLmNvcHlcIilcblxuLy8gICAgICAgICBnc2FwLnNldChbcG9zdHNIZWFkaW5nLCBmZWF0dXJlZEltZywgZmVhdHVyZWRIZWFkaW5ncywgZmVhdHVyZWRDb3B5XSxcbi8vICAgICAgICAge29wYWNpdHk6IDAsIHNjYWxlOiAxLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30pXG4vLyAgICAgICAgIGdzYXAuc2V0KHBvc3RzSGVhZGluZywge3NjYWxlOiAwLjl9KVxuLy8gICAgICAgICBnc2FwLnNldChmZWF0dXJlZEltZywge3k6IDUwfSlcbi8vICAgICAgICAgZ3NhcC5zZXQoZmVhdHVyZWRIZWFkaW5ncywge3k6IDUwfSlcbi8vICAgICAgICAgZ3NhcC5zZXQoZmVhdHVyZWRDb3B5LCB7eTogNTB9KVxuXG4vLyAgICAgICAgIGxldCB0bCA9IGdzYXAudGltZWxpbmUoKVxuXG4vLyAgICAgICAgIC50byhwb3N0c0hlYWRpbmcse29wYWNpdHk6IDEsIHNjYWxlOiAxLCB5OiAwLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30sIDApXG4vLyAgICAgICAgIC50byhmZWF0dXJlZEltZyx7b3BhY2l0eTogMSwgc2NhbGU6IDEsIHk6IDAsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSwgXCItPTAuM1wiKVxuLy8gICAgICAgICAudG8oZmVhdHVyZWRIZWFkaW5ncywge29wYWNpdHk6IDEsIHNjYWxlOiAxLCB5OiAwLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30sIFwiLT0wLjVcIilcbi8vICAgICAgICAgLnRvKGZlYXR1cmVkQ29weSwge29wYWNpdHk6IDEsIHNjYWxlOiAxLCB5OiAwLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30sIFwiLT0wLjdcIilcblxuLy8gICAgICAgICBTY3JvbGxUcmlnZ2VyLmNyZWF0ZSh7XG4vLyAgICAgICAgICAgICB0cmlnZ2VyOmVsZW1lbnQsXG4vLyAgICAgICAgICAgICBzdGFydDpcInRvcCA5MCVcIixcbi8vICAgICAgICAgICAgIHRvZ2dsZUFjdGlvbnM6XCJwbGF5IG5vbmUgbm9uZSBub25lXCIsXG4vLyAgICAgICAgICAgICBhbmltYXRpb246dGxcbi8vICAgICAgICAgfSlcblxuLy8gICAgIH0pXG4vLyAgICAgLy9yZWd1bGFyIHBvc3RzXG4vLyAgICAgbGV0IHJlY2VudFBvc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZ1bGwtd2lkdGgtY29udGVudC5yZWNlbnQtbmV3cyBcIilcblxuLy8gICAgIHJlY2VudFBvc3QuZm9yRWFjaCggKGVsZW1lbnQpID0+IHtcblxuLy8gICAgICAgICBsZXQgcG9zdCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3N0cyAucG9zdFwiKVxuLy8gICAgICAgICBsZXQgbGluayA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3N0cyBhXCIpXG5cbi8vICAgICAgICAgZ3NhcC5zZXQoW3Bvc3QsIGxpbmtdLFxuLy8gICAgICAgICB7b3BhY2l0eTogMCwgc2NhbGU6IDEsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSlcbi8vICAgICAgICAgZ3NhcC5zZXQocG9zdCwge3k6IDUwfSlcbi8vICAgICAgICAgZ3NhcC5zZXQobGluaywge3NjYWxlOiAwLjl9KVxuXG4vLyAgICAgICAgIGxldCB0bCA9IGdzYXAudGltZWxpbmUoKVxuXG4vLyAgICAgICAgIC50byhwb3N0LHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9LCAwKVxuLy8gICAgICAgICAudG8obGluaywge29wYWNpdHk6IDEsIHNjYWxlOiAxLCB5OiAwLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30sIFwiLT0wLjNcIilcblxuLy8gICAgICAgICBTY3JvbGxUcmlnZ2VyLmNyZWF0ZSh7XG4vLyAgICAgICAgICAgICB0cmlnZ2VyOmVsZW1lbnQsXG4vLyAgICAgICAgICAgICBzdGFydDpcInRvcCA5MCVcIixcbi8vICAgICAgICAgICAgIHRvZ2dsZUFjdGlvbnM6XCJwbGF5IG5vbmUgbm9uZSBub25lXCIsXG4vLyAgICAgICAgICAgICBhbmltYXRpb246dGxcbi8vICAgICAgICAgfSlcblxuLy8gICAgIH0pXG5cbi8vICAgICAvL1VwY29taW5nIGV2ZW50c1xuLy8gICAgIGxldCBhY2FDYWxlbmRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudXBjb21pbmctZXZlbnRzIC51cGNvbWluZy1ldmVudHNfYWNhX2NhcmRcIilcblxuLy8gICAgIGFjYUNhbGVuZGFyLmZvckVhY2goIChlbGVtZW50KSA9PiB7XG5cbi8vICAgICAgICAgbGV0IGljb24gPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpXCIpXG4vLyAgICAgICAgIGxldCBoZWFkaW5nID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaDJcIilcbi8vICAgICAgICAgbGV0IGNvcHkgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJwXCIpXG4vLyAgICAgICAgIGxldCBsaW5rID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiYVwiKVxuLy8gICAgICAgICBnc2FwLnNldChbaWNvbiwgaGVhZGluZywgY29weSwgbGlua10sXG4vLyAgICAgICAgIHtvcGFjaXR5OiAwLCBzY2FsZTogMSwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9KVxuLy8gICAgICAgICBnc2FwLnNldChoZWFkaW5nLCB7c2NhbGU6IDAuOX0pXG4vLyAgICAgICAgIGdzYXAuc2V0KGljb24sIHtzY2FsZTogMC45fSlcbi8vICAgICAgICAgZ3NhcC5zZXQoY29weSwge3k6IDUwfSlcbi8vICAgICAgICAgZ3NhcC5zZXQobGluaywge3k6IDUwfSlcblxuLy8gICAgICAgICBsZXQgdGwgPSBnc2FwLnRpbWVsaW5lKClcblxuLy8gICAgICAgICAudG8oaGVhZGluZywge29wYWNpdHk6IDEsIHNjYWxlOiAxLCB5OiAwLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30sIFwiLT0wLjFcIilcbi8vICAgICAgICAgLnRvKGljb24sIHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9LCAwKVxuLy8gICAgICAgICAudG8oY29weSwge29wYWNpdHk6IDEsIHNjYWxlOiAxLCB5OiAwLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30sIFwiLT0wLjNcIilcbi8vICAgICAgICAgLnRvKGxpbmssIHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9LCBcIi09MC41XCIpXG5cbi8vICAgICAgICAgU2Nyb2xsVHJpZ2dlci5jcmVhdGUoe1xuLy8gICAgICAgICAgICAgdHJpZ2dlcjplbGVtZW50LFxuLy8gICAgICAgICAgICAgc3RhcnQ6XCJ0b3AgOTAlXCIsXG4vLyAgICAgICAgICAgICB0b2dnbGVBY3Rpb25zOlwicGxheSBub25lIG5vbmUgbm9uZVwiLFxuLy8gICAgICAgICAgICAgYW5pbWF0aW9uOnRsXG4vLyAgICAgICAgIH0pXG5cbi8vICAgICB9KVxuLy8gICAgIC8vZXZlbnQgaW1hZ2Vcbi8vICAgICBsZXQgZXZlbnRMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi51cGNvbWluZy1ldmVudHMgLnVwY29taW5nLWV2ZW50c19ldmVudFwiKVxuXG4vLyAgICAgZXZlbnRMaW5rLmZvckVhY2goIChlbGVtZW50KSA9PiB7XG5cbi8vICAgICAgICAgbGV0IGhlYWRpbmcgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJoMlwiKVxuLy8gICAgICAgICBsZXQgbGluayA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcihcImFcIilcbi8vICAgICAgICAgZ3NhcC5zZXQoW2hlYWRpbmcsIGxpbmtdLFxuLy8gICAgICAgICB7b3BhY2l0eTogMCwgc2NhbGU6IDEsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSlcbi8vICAgICAgICAgZ3NhcC5zZXQoaGVhZGluZywge3NjYWxlOiAwLjl9KVxuLy8gICAgICAgICBnc2FwLnNldChsaW5rLCB7eTogNTB9KVxuXG4vLyAgICAgICAgIGxldCB0bCA9IGdzYXAudGltZWxpbmUoKVxuXG4vLyAgICAgICAgIC50byhoZWFkaW5nLCB7b3BhY2l0eTogMSwgc2NhbGU6IDEsIHk6IDAsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSwgXCItPTAuN1wiKVxuLy8gICAgICAgICAudG8obGluaywge29wYWNpdHk6IDEsIHNjYWxlOiAxLCB5OiAwLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30sIFwiLT0wLjlcIilcblxuLy8gICAgICAgICBTY3JvbGxUcmlnZ2VyLmNyZWF0ZSh7XG4vLyAgICAgICAgICAgICB0cmlnZ2VyOmVsZW1lbnQsXG4vLyAgICAgICAgICAgICBzdGFydDpcInRvcCA5MCVcIixcbi8vICAgICAgICAgICAgIHRvZ2dsZUFjdGlvbnM6XCJwbGF5IG5vbmUgbm9uZSBub25lXCIsXG4vLyAgICAgICAgICAgICBhbmltYXRpb246dGxcbi8vICAgICAgICAgfSlcblxuLy8gICAgIH0pXG5cbi8vICAgICAvLyBWaWRlbyBHYWxsZXJ5XG4vLyAgICAgbGV0IHF1b3RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mdWxsLXdpZHRoLWNvbnRlbnQuZmVhdHVyZWQtdmlkZW8tZ2FsbGVyeSAubWFpbi1jb250ZW50XCIpXG5cbi8vICAgICBxdW90ZS5mb3JFYWNoKCAoZWxlbWVudCkgPT4ge1xuXG4vLyAgICAgICAgIGxldCBoZWFkaW5ncyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcImgyXCIpXG4vLyAgICAgICAgIGxldCBjb3B5ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwicFwiKVxuLy8gICAgICAgICBsZXQgdmlkZW8gPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudmlkZW9cIilcbi8vICAgICAgICAgZ3NhcC5zZXQoW2hlYWRpbmdzLCBjb3B5LCB2aWRlb10sXG4vLyAgICAgICAgIHtvcGFjaXR5OiAwLCBzY2FsZTogMSwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9KVxuLy8gICAgICAgICBnc2FwLnNldChoZWFkaW5ncywge3NjYWxlOiAwLjl9KVxuLy8gICAgICAgICBnc2FwLnNldChjb3B5LCB7eTogNTB9KVxuLy8gICAgICAgICBnc2FwLnNldCh2aWRlbywge3k6IDUwfSlcblxuLy8gICAgICAgICBsZXQgdGwgPSBnc2FwLnRpbWVsaW5lKClcblxuLy8gICAgICAgICAudG8oaGVhZGluZ3MsIHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9LCBcIi09MC4xXCIpXG4vLyAgICAgICAgIC50byhjb3B5LCB7b3BhY2l0eTogMSwgc2NhbGU6IDEsIHk6IDAsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSwgXCItPTAuM1wiKVxuLy8gICAgICAgICAudG8odmlkZW8se29wYWNpdHk6IDEsIHNjYWxlOiAxLCB5OiAwLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30sIFwiLT0wLjVcIilcblxuLy8gICAgICAgICBTY3JvbGxUcmlnZ2VyLmNyZWF0ZSh7XG4vLyAgICAgICAgICAgICB0cmlnZ2VyOmVsZW1lbnQsXG4vLyAgICAgICAgICAgICBzdGFydDpcInRvcCA5MCVcIixcbi8vICAgICAgICAgICAgIHRvZ2dsZUFjdGlvbnM6XCJwbGF5IG5vbmUgbm9uZSBub25lXCIsXG4vLyAgICAgICAgICAgICBhbmltYXRpb246dGxcbi8vICAgICAgICAgfSlcblxuLy8gICAgIH0pXG4vLyAgICAgLy8gLy9GbGV4IFRhYmxlXG4vLyAgICAgbGV0IHRhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mbGV4X3RhYmxlXCIpXG5cbi8vICAgICB0YWJsZS5mb3JFYWNoKCAoZWxlbWVudCkgPT4ge1xuXG4vLyAgICAgICAgIGxldCBoZWFkaW5ncyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcImgyXCIpXG4vLyAgICAgICAgIGxldCBjb3B5ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhYmxlLWNvbnRlbnRcIilcbi8vICAgICAgICAgZ3NhcC5zZXQoW2hlYWRpbmdzLCBjb3B5XSxcbi8vICAgICAgICAge29wYWNpdHk6IDAsIHNjYWxlOiAxLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30pXG4vLyAgICAgICAgIGdzYXAuc2V0KGhlYWRpbmdzLCB7c2NhbGU6IDAuOX0pXG4vLyAgICAgICAgIGdzYXAuc2V0KGNvcHksIHt5OiA1MH0pXG5cbi8vICAgICAgICAgbGV0IHRsID0gZ3NhcC50aW1lbGluZSgpXG5cbi8vICAgICAgICAgLnRvKGhlYWRpbmdzLCB7b3BhY2l0eTogMSwgc2NhbGU6IDEsIHk6IDAsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSwgXCItPTAuMVwiKVxuLy8gICAgICAgICAudG8oY29weSwge29wYWNpdHk6IDEsIHNjYWxlOiAxLCB5OiAwLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30sIFwiLT0wLjNcIilcblxuLy8gICAgICAgICBTY3JvbGxUcmlnZ2VyLmNyZWF0ZSh7XG4vLyAgICAgICAgICAgICB0cmlnZ2VyOmVsZW1lbnQsXG4vLyAgICAgICAgICAgICBzdGFydDpcInRvcCA5MCVcIixcbi8vICAgICAgICAgICAgIHRvZ2dsZUFjdGlvbnM6XCJwbGF5IG5vbmUgbm9uZSBub25lXCIsXG4vLyAgICAgICAgICAgICBhbmltYXRpb246dGxcbi8vICAgICAgICAgfSlcblxuLy8gICAgIH0pXG5cblxuLy8gICAgIC8vd3lzaXd5Z1xuLy8gICAgIGxldCB3eXNpd3lnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mbGV4X2Jhc2ljLXd5c2l3eWdcIilcblxuLy8gICAgIHd5c2l3eWcuZm9yRWFjaCggKGVsZW1lbnQpID0+IHtcblxuLy8gICAgIFx0bGV0IGhlYWRpbmdzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaDJcIilcbi8vICAgICAgICAgbGV0IGNvcHkgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29weVwiKVxuXG4vLyAgICAgXHRsZXQgdGwgPSBnc2FwLnRpbWVsaW5lKClcblxuLy8gICAgIFx0IC5mcm9tKGhlYWRpbmdzLCB7eToxMDAsIG9wYWNpdHk6MH0sIDApXG4vLyAgICAgICAgICAuZnJvbShjb3B5LCB7eToxMDAsIG9wYWNpdHk6MCwgc3RhZ2dlcjowLjE1fSwgXCItPTAuMVwiKVxuXG4vLyAgICAgXHRTY3JvbGxUcmlnZ2VyLmNyZWF0ZSh7XG4vLyAgICAgXHRcdHRyaWdnZXI6ZWxlbWVudCxcbi8vICAgICBcdFx0c3RhcnQ6XCJ0b3AgOTAlXCIsXG4vLyAgICAgXHRcdHRvZ2dsZUFjdGlvbnM6XCJwbGF5IG5vbmUgbm9uZSByZXZlcnNlXCIsXG4vLyAgICAgXHRcdGFuaW1hdGlvbjp0bFxuLy8gICAgIFx0fSlcblxuLy8gICAgIH0pXG4vLyAgICAgbGV0IHd5c2l3eWdDb2x1bW5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mbGV4X2Jhc2ljLXd5c2l3eWcgLmNvbHVtbi1jb250ZW50XCIpXG5cbi8vICAgICB3eXNpd3lnQ29sdW1ucy5mb3JFYWNoKCAoZWxlbWVudCkgPT4ge1xuXG4vLyAgICAgXHRsZXQgY29udGVudExlZnQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29weS1sZWZ0XCIpXG4vLyAgICAgICAgIGxldCBjb250ZW50UmlnaHQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29weS1yaWdodFwiKVxuXG4vLyAgICAgXHRsZXQgdGwgPSBnc2FwLnRpbWVsaW5lKClcblxuLy8gICAgIFx0IC5mcm9tKGNvbnRlbnRMZWZ0LCB7eToxMDAsIG9wYWNpdHk6MH0sIDApXG4vLyAgICAgICAgICAuZnJvbShjb250ZW50UmlnaHQsIHt5OjEwMCwgb3BhY2l0eTowLCBzdGFnZ2VyOjAuMTV9LCBcIi09MC4xXCIpXG5cbi8vICAgICBcdFNjcm9sbFRyaWdnZXIuY3JlYXRlKHtcbi8vICAgICBcdFx0dHJpZ2dlcjplbGVtZW50LFxuLy8gICAgIFx0XHRzdGFydDpcInRvcCA5MCVcIixcbi8vICAgICBcdFx0dG9nZ2xlQWN0aW9uczpcInBsYXkgbm9uZSBub25lIG5vbmVcIixcbi8vICAgICBcdFx0YW5pbWF0aW9uOnRsXG4vLyAgICAgXHR9KVxuXG4vLyAgICAgfSlcblxuXG4vLyAgICAgLy8gLy9BY2NvcmRpb25zXG4vLyAgICAgLy8gLy9hY2NvcmRpb24gdGl0bGVzXG4vLyAgICAgLy9jYXJkIFNlY3Rpb25zXG4vLyAgICAgbGV0IGV4cGFuZENvbGxhcHNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mbGV4X2V4cGFuZC1jb2xsYXBzZVwiKVxuLy8gICAgICAgICBleHBhbmRDb2xsYXBzZS5mb3JFYWNoKCAoZWxlbWVudCkgPT4ge1xuXG4vLyAgICAgICAgICAgICBsZXQgaGVhZGluZ3MgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJoMlwiKVxuLy8gICAgICAgICAgICAgbGV0IGNvcHkgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29weVwiKVxuXG5cbi8vICAgICAgICAgZ3NhcC5zZXQoW2hlYWRpbmdzLCBjb3B5XSx7b3BhY2l0eTogMCwgc2NhbGU6IDEsIHk6NTAsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSlcblxuLy8gICAgICAgICBsZXQgdGwgPSBnc2FwLnRpbWVsaW5lKClcblxuLy8gICAgICAgICAudG8oaGVhZGluZ3MsIHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9LCAwKVxuLy8gICAgICAgICAudG8oY29weSwge29wYWNpdHk6IDEsIHNjYWxlOiAxLCB5OiAwLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30sIFwiLT0wLjFcIilcblxuLy8gICAgICAgICBTY3JvbGxUcmlnZ2VyLmNyZWF0ZSh7XG4vLyAgICAgICAgICAgIHRyaWdnZXI6ZWxlbWVudCxcbi8vICAgICAgICAgICAgc3RhcnQ6XCJ0b3AgOTAlXCIsXG4vLyAgICAgICAgICAgIHRvZ2dsZUFjdGlvbnM6XCJwbGF5IG5vbmUgbm9uZSBub25lXCIsXG4vLyAgICAgICAgICAgIGFuaW1hdGlvbjp0bFxuLy8gICAgICAgICB9KVxuXG4vLyAgICAgfSlcblxuXG5cblxuLy8gICAgIC8vIC8vRm9ybSBCbG9ja1xuLy8gICAgIGxldCBmb3JtQmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm0tY29udGVudFwiKVxuXG4vLyAgICAgZm9ybUJsb2NrLmZvckVhY2goIChlbGVtZW50KSA9PiB7XG5cbi8vICAgICAgICAgbGV0IGhlYWRlciA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcihcImgyXCIpXG4vLyAgICAgICAgIGxldCBjb3B5ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwicFwiKVxuLy8gICAgICAgICBsZXQgZm9ybSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignZm9ybScpO1xuXG4vLyAgICAgICAgIGdzYXAuc2V0KFtoZWFkZXIsIGNvcHksIGZvcm1dLFxuLy8gICAgICAgICB7b3BhY2l0eTogMCwgc2NhbGU6IDEsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSlcbi8vICAgICAgICAgZ3NhcC5zZXQoaGVhZGVyLCB7eToxMDAsIHNjYWxlOiAwLjl9KVxuLy8gICAgICAgICBnc2FwLnNldChjb3B5LCB7eTogNTB9KVxuXG4vLyAgICAgICAgIGxldCB0bCA9IGdzYXAudGltZWxpbmUoKVxuXG4vLyAgICAgICAgIC50byhoZWFkZXIsIHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgc3RhZ2dlcjowLjE1LCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30sIDApXG4vLyAgICAgICAgIC50byhjb3B5LCB7b3BhY2l0eTogMSwgc2NhbGU6IDEsIHk6IDAsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSwgXCItPTAuM1wiKVxuLy8gICAgICAgICAudG8oZm9ybSwge29wYWNpdHk6IDEsIHNjYWxlOiAxLCB5OiAwLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30sIFwiLT0wLjVcIilcblxuLy8gICAgICAgICBTY3JvbGxUcmlnZ2VyLmNyZWF0ZSh7XG4vLyAgICAgICAgICAgICB0cmlnZ2VyOmVsZW1lbnQsXG4vLyAgICAgICAgICAgICBzdGFydDpcInRvcCA5MCVcIixcbi8vICAgICAgICAgICAgIHRvZ2dsZUFjdGlvbnM6XCJwbGF5IG5vbmUgbm9uZSBub25lXCIsXG4vLyAgICAgICAgICAgICBhbmltYXRpb246dGxcbi8vICAgICBcdH0pXG4vLyAgICAgfSlcblxuLy8gICAgIC8vIC8vQ29udGFjdCBTdHVmZlxuLy8gICAgIC8vIC8vUGhvbmUgdGl0bGVzXG4vLyAgICAgbGV0IGNvbnRhY3RQaG9uZUhlYWRlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNvbnRhY3QtdXMgLnBob25lLWRldGFpbHNcIilcbi8vICAgICBjb250YWN0UGhvbmVIZWFkZXJzLmZvckVhY2goIChlbGVtZW50KSA9PiB7XG5cbi8vICAgICAgICBsZXQgaGVhZGluZ3MgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJoM1wiKVxuLy8gICAgICAgICBsZXQgY29weSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb3B5XCIpXG5cbi8vICAgICAgICBsZXQgdGwgPSBnc2FwLnRpbWVsaW5lKClcblxuLy8gICAgICAgICAuZnJvbShoZWFkaW5ncywge3k6MTAwLCBvcGFjaXR5OjB9LCAwKVxuLy8gICAgICAgICAgLmZyb20oY29weSwge3k6MTAwLCBvcGFjaXR5OjAsIHN0YWdnZXI6MC4xNX0sIFwiLT0wLjFcIilcblxuLy8gICAgICAgIFNjcm9sbFRyaWdnZXIuY3JlYXRlKHtcbi8vICAgICAgICAgICAgdHJpZ2dlcjplbGVtZW50LFxuLy8gICAgICAgICAgICBzdGFydDpcInRvcCA5MCVcIixcbi8vICAgICAgICAgICAgdG9nZ2xlQWN0aW9uczpcInBsYXkgbm9uZSBub25lIG5vbmVcIixcbi8vICAgICAgICAgICAgYW5pbWF0aW9uOnRsXG4vLyAgICAgICAgfSlcblxuLy8gICAgIH0pXG4vLyAgICAgLy9waG9uZSBpdGVtc1xuLy8gICAgIGxldCBwaG9uZUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb250YWN0LXVzIC5waG9uZS1kZXRhaWxzIC5waG9uZS1yb3dcIilcblxuLy8gICAgIHBob25lSXRlbXMuZm9yRWFjaCggKGVsZW1lbnQpID0+IHtcblxuLy8gICAgICAgICBsZXQgcGhvbmVMYWJlbCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5sYWJlbFwiKVxuLy8gICAgICAgICBsZXQgcGhvbmVOdW1iZXIgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGhvbmUtbnVtYmVyc1wiKVxuXG4vLyAgICAgICAgIGdzYXAuc2V0KFtwaG9uZUxhYmVsLCBwaG9uZU51bWJlcl0se29wYWNpdHk6IDAsIHNjYWxlOiAxLCB5OjUwLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30pXG5cbi8vICAgICAgICAgbGV0IHRsID0gZ3NhcC50aW1lbGluZSgpXG5cbi8vICAgICAgICAgLnRvKHBob25lTGFiZWwsIHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9LCBcIi09MC4zXCIpXG4vLyAgICAgICAgIC50byhwaG9uZU51bWJlciwge29wYWNpdHk6IDEsIHNjYWxlOiAxLCB5OiAwLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30sIFwiLT0wLjNcIilcblxuLy8gICAgICAgICBTY3JvbGxUcmlnZ2VyLmNyZWF0ZSh7XG4vLyAgICAgICAgICAgICB0cmlnZ2VyOmVsZW1lbnQsXG4vLyAgICAgICAgICAgICBzdGFydDpcInRvcCA5MCVcIixcbi8vICAgICAgICAgICAgIHRvZ2dsZUFjdGlvbnM6XCJwbGF5IG5vbmUgbm9uZSBub25lXCIsXG4vLyAgICAgICAgICAgICBhbmltYXRpb246dGxcblxuLy8gICAgICAgIH0pXG5cbi8vICAgICB9KVxuLy8gICAgIC8vIC8vQ29udGFjdCBGb3JtXG4vLyAgICAgbGV0IGNvbnRhY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb250YWN0LXVzIC5jb250YWN0LXVzLWZvcm1cIilcbi8vICAgICAgICAgY29udGFjdEZvcm0uZm9yRWFjaCggKGVsZW1lbnQpID0+IHtcblxuLy8gICAgICAgICBsZXQgaGVhZGluZ3MgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2XCIpXG4vLyAgICAgICAgIGxldCBjb3B5ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwicFwiKVxuLy8gICAgICAgICBsZXQgZm9ybSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignZm9ybScpO1xuXG4vLyAgICAgICAgIGdzYXAuc2V0KFtoZWFkaW5ncywgY29weSwgZm9ybV0se29wYWNpdHk6IDAsIHNjYWxlOiAxLCB5OjUwLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJ30pXG5cbi8vICAgICAgICAgbGV0IHRsID0gZ3NhcC50aW1lbGluZSgpXG5cbi8vICAgICAgICAgLnRvKGhlYWRpbmdzLCB7b3BhY2l0eTogMSwgc2NhbGU6IDEsIHk6IDAsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSwgMClcbi8vICAgICAgICAgLnRvKGNvcHksIHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9LCBcIi09MC4xXCIpXG4vLyAgICAgICAgIC50byhmb3JtLCB7b3BhY2l0eTogMSwgc2NhbGU6IDEsIHk6IDAsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSwgXCItPTAuM1wiKVxuXG4vLyAgICAgICAgIFNjcm9sbFRyaWdnZXIuY3JlYXRlKHtcbi8vICAgICAgICAgICAgdHJpZ2dlcjplbGVtZW50LFxuLy8gICAgICAgICAgICBzdGFydDpcInRvcCA5MCVcIixcbi8vICAgICAgICAgICAgdG9nZ2xlQWN0aW9uczpcInBsYXkgbm9uZSBub25lIG5vbmVcIixcbi8vICAgICAgICAgICAgYW5pbWF0aW9uOnRsXG4vLyAgICAgICAgIH0pXG5cbi8vICAgICB9KVxuXG4vLyAgICAgLy9BTEwgUk9MTCBPVVQgQU5JTUFUSU9OU1xuLy8gICAgIC8vVGhpcyBtZWFucyB0aGF0IGl0IGlzIHJldmVhbGVkIGFzIHlvdSBzY3JvbGwgdGhyb3VnaCB0aGUgYXJlYSB2cyBhcyB5b3UgaGl0IGEgdHJpZ2dlclxuLy8gICAgIC8vSXQgaGFzIEVWRU5UUywgUkVTT1VSQ0VTLCBCTE9HUywgU0lERUJBUiBJVEVNUywgRElSRUNUT1JZLCBTRUFSQ0ggUkVTVUxUUywgYW5kIFRBQkxFUFJFU1MgVEFCTEVTXG4vLyAgICAgJCgnLmV2ZW50LWxpc3QsIC5yZXNvdXJjZS1saXN0X3RhYmxlLCAuYmxvZy1saXN0X21haW4sIC5sZWZ0LXNpZGViYXItbWVudSAuY2hpbGQtbWVudSwgLmZsZXhfdGFibGUsIC5lbXBsb3llZS1saXN0IC5jb250YWluZXIsIC5zZWFyY2gtcmVzdWx0cyAucmVzdWx0cycpLmVhY2goZnVuY3Rpb24oKXtcblxuLy8gICAgICAgICBnc2FwLnV0aWxzLnRvQXJyYXkoJy5ldmVudC1saXN0LCAucmVzb3VyY2UtbGlzdF90YWJsZSwgLmJsb2ctbGlzdF9tYWluLCAuY2hpbGQtbWVudSwgLnRhYmxlcHJlc3MsIC5lbXBsb3llZS1saXN0IC5jb250YWluZXIsIC5zZWFyY2gtcmVzdWx0cyAucmVzdWx0cycpLmZvckVhY2goKHNlYywgaSkgPT4ge1xuLy8gICAgICAgICAgIGdzYXAuc2V0KCcuZXZlbnQtbGlzdF9fZXZlbnQsIC5yZXNvdXJjZS1saXN0X2l0ZW0sIC5ibG9nLWl0ZW0sIC5jaGlsZC1tZW51IC5wYWdlX2l0ZW0sIHRyLCAuZW1wbG95ZWUtaXRlbSwgYXJ0aWNsZScsIHtvcGFjaXR5OiAwLCB5OiAtMTAwLH0pLFxuXG4vLyAgICAgICAgICAgU2Nyb2xsVHJpZ2dlci5iYXRjaChcIi5ldmVudC1saXN0X19ldmVudCwgLnJlc291cmNlLWxpc3RfaXRlbSwgLmJsb2ctaXRlbSwgLmNoaWxkLW1lbnUgLnBhZ2VfaXRlbSwgdHIsIC5lbXBsb3llZS1pdGVtLCBhcnRpY2xlXCIsIHtcbi8vICAgICAgICAgICAgIG9uRW50ZXI6IGJhdGNoID0+IGdzYXAudG8oYmF0Y2gsIHtvcGFjaXR5OiAxLCB5OiAwLCBzdGFnZ2VyOiB7ZWFjaDogMC4xNSwgZ3JpZDogWzEsIDJdfSwgb3ZlcndyaXRlOiB0cnVlfSlcbi8vICAgICAgICAgICB9KTtcbi8vICAgICAgICAgfSk7XG4vLyAgICAgfSk7XG4vLyAgICAgLy9BY2NvcmRpb25cbi8vICAgICAkKCcuZmxleF9leHBhbmQtY29sbGFwc2UnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cbi8vICAgICAgICAgZ3NhcC51dGlscy50b0FycmF5KCcuZmxleF9leHBhbmQtY29sbGFwc2UnKS5mb3JFYWNoKChzZWMsIGkpID0+IHtcbi8vICAgICAgICAgICBnc2FwLnNldCgnLmNvbGxhcHNlLXRvZ2dsZScsIHtvcGFjaXR5OiAwLCB5OiAtMTAwLH0pLFxuXG4vLyAgICAgICAgICAgU2Nyb2xsVHJpZ2dlci5iYXRjaChcIi5jb2xsYXBzZS10b2dnbGVcIiwge1xuLy8gICAgICAgICAgICAgb25FbnRlcjogYmF0Y2ggPT4gZ3NhcC50byhiYXRjaCwge29wYWNpdHk6IDEsIHk6IDAsIHN0YWdnZXI6IHtlYWNoOiAwLjE1LCBncmlkOiBbMSwgMV19LCBvdmVyd3JpdGU6IHRydWV9KVxuLy8gICAgICAgICAgIH0pO1xuLy8gICAgICAgICB9KTtcbi8vICAgICB9KTtcblxuLy8gICAgIC8vY2FyZCBTZWN0aW9uc1xuLy8gICAgIGxldCBmbGV4Q2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZsZXhfaW1hZ2UtY2FyZHMsIC5mbGV4X2NvbnRlbnQtY2FyZHMsIC5lcnJvcjQwNCwgZmxleF9wcm9ncmFtLWNhcmRzXCIpXG4vLyAgICAgICAgIGZsZXhDYXJkcy5mb3JFYWNoKCAoZWxlbWVudCkgPT4ge1xuXG4vLyAgICAgICAgIGxldCBoZWFkZXIgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJoMlwiKVxuLy8gICAgICAgICBsZXQgY29udGVudCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgncCwgLmNvcHkgLnBhZ2UtaW5mbycpXG4vLyAgICAgICAgIGxldCBjYXJkcyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmltYWdlLWNhcmRzIC5pbWFnZS1jYXJkc19pdGVtLCAuY29udGVudC1jYXJkcyAuY29udGVudC1jYXJkc19pdGVtLCAucHJvZ3JhbS1jYXJkc193cmFwIC5wcm9ncmFtJylcblxuXG4vLyAgICAgICAgIGdzYXAuc2V0KFtoZWFkZXIsIGNvbnRlbnQsIGNhcmRzXSx7b3BhY2l0eTogMCwgc2NhbGU6IDEsIHk6NTAsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSlcblxuLy8gICAgICAgICBsZXQgdGwgPSBnc2FwLnRpbWVsaW5lKClcblxuLy8gICAgICAgICAudG8oaGVhZGVyLCB7b3BhY2l0eTogMSwgc2NhbGU6IDEsIHk6IDAsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSwgMClcbi8vICAgICAgICAgLnRvKGNvbnRlbnQsIHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9LCBcIi09MC4xXCIpXG4vLyAgICAgICAgIC50byhjYXJkcywge29wYWNpdHk6IDEsIHNjYWxlOiAxLCB5OiAwLCB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJywgc3RhZ2dlcjowLjJ9LCBcIi09MC4zXCIpXG5cbi8vICAgICAgICAgU2Nyb2xsVHJpZ2dlci5jcmVhdGUoe1xuLy8gICAgICAgICAgICB0cmlnZ2VyOmVsZW1lbnQsXG4vLyAgICAgICAgICAgIHN0YXJ0OlwidG9wIDkwJVwiLFxuLy8gICAgICAgICAgICB0b2dnbGVBY3Rpb25zOlwicGxheSBub25lIG5vbmUgbm9uZVwiLFxuLy8gICAgICAgICAgICBhbmltYXRpb246dGxcbi8vICAgICAgICAgfSlcblxuLy8gICAgIH0pXG5cbi8vICAgICAvL0Jsb2cgU2luZ2xlIHJlbGF0ZWRcbi8vICAgICBsZXQgYmxvZ1JlbGF0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNpbmdsZS1ibG9nXCIpXG4vLyAgICAgICAgIGJsb2dSZWxhdGVkLmZvckVhY2goIChlbGVtZW50KSA9PiB7XG5cbi8vICAgICAgICAgbGV0IGhlYWRlciA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zaW5nbGUtYmxvZ19yZWxhdGVkLWJsb2dzIGgyXCIpXG4vLyAgICAgICAgIGxldCBidXR0b24gPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaW5nbGUtYmxvZ19yZWxhdGVkLWJsb2dzIC5idXR0b24nKVxuLy8gICAgICAgICBsZXQgY2FyZHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaW5nbGUtYmxvZ19yZWxhdGVkLWJsb2dzIC5jYXJkJylcblxuXG4vLyAgICAgICAgIGdzYXAuc2V0KFtoZWFkZXIsIGJ1dHRvbiwgY2FyZHNdLHtvcGFjaXR5OiAwLCBzY2FsZTogMSwgeTo1MCwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9KVxuXG4vLyAgICAgICAgIGxldCB0bCA9IGdzYXAudGltZWxpbmUoKVxuXG4vLyAgICAgICAgIC50byhoZWFkZXIsIHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJSd9LCAwKVxuLy8gICAgICAgICAudG8oYnV0dG9uLCB7b3BhY2l0eTogMSwgc2NhbGU6IDEsIHk6IDAsIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnfSwgXCItPTAuMVwiKVxuLy8gICAgICAgICAudG8oY2FyZHMsIHtvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCwgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJScsIHN0YWdnZXI6MC4xNX0sIFwiLT0wLjNcIilcblxuLy8gICAgICAgICBTY3JvbGxUcmlnZ2VyLmNyZWF0ZSh7XG4vLyAgICAgICAgICAgIHRyaWdnZXI6ZWxlbWVudCxcbi8vICAgICAgICAgICAgc3RhcnQ6XCJ0b3AgOTAlXCIsXG4vLyAgICAgICAgICAgIHRvZ2dsZUFjdGlvbnM6XCJwbGF5IG5vbmUgbm9uZSBub25lXCIsXG4vLyAgICAgICAgICAgIGFuaW1hdGlvbjp0bFxuLy8gICAgICAgICB9KVxuXG4vLyAgICAgfSlcblxuXG4vLyB9KTtcbiIsImpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xuXG4gICAgLy8gaW5pdCBjb250cm9sbGVyXG4gICAgdmFyIHBvc2l0aW9uID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuXG4gICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNjcm9sbCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcbiAgICAgICAgaWYoc2Nyb2xsID4gcG9zaXRpb24gJiYgc2Nyb2xsIDwgMTAwKSB7XG4gICAgICAgICAgJCgnLnNpdGUtbmV3aGVhZGVyJykuYWRkQ2xhc3MoJ29uLXNjcm9sbC1kb3duJyk7XG4gICAgICAgICAgJCgnLnNpdGUtbmV3aGVhZGVyJykucmVtb3ZlQ2xhc3MoJ29uLXNjcm9sbC11cCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKCcuc2l0ZS1uZXdoZWFkZXInKS5yZW1vdmVDbGFzcygnb24tc2Nyb2xsLWRvd24nKTtcbiAgICAgICAgICAkKCcuc2l0ZS1uZXdoZWFkZXInKS5hZGRDbGFzcygnb24tc2Nyb2xsLXVwJyk7XG4gICAgICAgICAgJCgnLnNpdGUtbmV3aGVhZGVyJykucmVtb3ZlQ2xhc3MoJ29uLXBpbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoc2Nyb2xsIDwgMTAwKSB7XG4gICAgICAgICAgJCgnLnNpdGUtbmV3aGVhZGVyJykucmVtb3ZlQ2xhc3MoJ29uLXNjcm9sbC1kb3duJyk7XG4gICAgICAgICAgJCgnLnNpdGUtbmV3aGVhZGVyJykucmVtb3ZlQ2xhc3MoJ29uLXNjcm9sbC11cCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoc2Nyb2xsID4gcG9zaXRpb24gJiYgc2Nyb2xsID4gNjAwKSB7XG4gICAgICAgICAgJCgnLnNpdGUtbmV3aGVhZGVyJykuYWRkQ2xhc3MoJ29uLXBpbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcG9zaXRpb24gPSBzY3JvbGw7XG5cbiAgICB9KTtcblxuICAgIC8vIC8vIEFkZCBjbGFzcyB0byBzdWJtZW51IHRvIGhlbHAgd2l0aCBjb2x1bW4gd3JhcHBpbmdcbiAgICAvLyAkKFwidWwjcHJpbWFyeS1tZW51ID4gbGkubWVudS1pdGVtLWhhcy1jaGlsZHJlbiAubWVnYS1tZW51ID4gdWwuc3ViLW1lbnUgPiBsaS5tZW51LWl0ZW0taGFzLWNoaWxkcmVuXCIpLnBhcmVudCgpLmFkZENsYXNzKCdmbGV4LWxheW91dCcpO1xuXG5cbiAgICAvLyAvLyBFeHBhbmRhYmxlIFNlYXJjaCBGdW5jdGlvbmFsaXR5XG5cbiAgICAvLyAvLyBTZWFyY2ggVG9nZ2xlXG4gICAgLy8gJCgnLnNlYXJjaGZvcm0gLnNlYXJjaC1maWVsZCcpLmF0dHIoJ3BsYWNlaG9sZGVyJywgJ1NlYXJjaCBieSBrZXl3b3JkLi4uJyk7XG4gICAgLy8gJCgnLnNlYXJjaGZvcm0gLnNlYXJjaC1zdWJtaXQnKS52YWwoJ++AgicpO1xuXG4gICAgLy8gJChcIi5zZWFyY2hfaWNvblwiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAvLyAgICAkKHRoaXMpLm5leHQoXCIuc2VhcmNoZm9ybVwiKS5hbmltYXRlKHsnd2lkdGgnOiAndG9nZ2xlJ30pO1xuICAgIC8vICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ29wZW4nKTtcblxuICAgIC8vICAgIGlmICggJCh0aGlzKS5oYXNDbGFzcyggXCJvcGVuXCIgKSApIHtcbiAgICAvLyAgICAgICQodGhpcykuZmluZCgnaScpLmF0dHIoJ2NsYXNzJywnZmFsIGZhLXRpbWVzJyk7XG4gICAgLy8gICAgICAkKHRoaXMpLm5leHQoJy5zZWFyY2hmb3JtIC5zZWFyY2gtc3VibWl0Jykuc2hvdygpO1xuICAgIC8vICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICQodGhpcykuZmluZCgnaScpLmF0dHIoJ2NsYXNzJywnZmFsIGZhLXNlYXJjaCcpO1xuICAgIC8vICAgICAgICQodGhpcykubmV4dCgnLnNlYXJjaGZvcm0gLnNlYXJjaC1zdWJtaXQnKS5oaWRlKCk7XG4gICAgLy8gICAgICAgJCh0aGlzKS5uZXh0KCcuc2VhcmNoZm9ybSAuc2VhcmNoLWZpZWxkJykudmFsKCcnKTtcbiAgICAvLyAgICB9XG4gICAgLy8gfSk7XG5cbiAgICAgIC8vU2VhcmNoIEpTXG4gICAgICAvLyAkKGRvY3VtZW50KS5rZXlkb3duKGZ1bmN0aW9uKGUpIHtcbiAgICAgIC8vICAgaWYgKGUua2V5Q29kZSA9PSAyNykge1xuICAgICAgLy8gICAgICQoXCIuc2VhcmNoZm9ybVwiKS5oaWRlKCk7XG4gICAgICAvLyAgICAgJCgnLnNlYXJjaF9pY29uJykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAgIC8vICAgICAkKCcuc2VhcmNoX2ljb24gaScpLmF0dHIoJ2NsYXNzJywnZmFsIGZhLXNlYXJjaCcpO1xuICAgICAgLy8gICAgICQoJy5zZWFyY2hmb3JtIC5zZWFyY2gtZmllbGQnKS52YWwoJycpO1xuICAgICAgLy8gICB9XG4gICAgICAvLyB9KTtcblxuXG4gICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAgKiBNb2JpbGUgTWVudSBTdHVmZiAqXG4gICAgICAqIFdlIGFyZSB1c2luZyBzaWRyIHRvIGhhbmRsZSBvdXIgbWVudSBKUyAqXG4gICAgICAqIGh0dHBzOi8vd3d3LmJlcnJpYXJ0LmNvbS9zaWRyLyAqXG4gICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgLy8gICB2YXIgc2lkck5hbWUgPSBcInNpZHItbWFpblwiO1xuXG4gICAgLy8gICAkKFwiLm1vYmlsZS1uYXZpZ2F0aW9uXCIpLnNpZHIoe1xuICAgIC8vICAgICAgbmFtZTogc2lkck5hbWUsXG4gICAgLy8gICAgICBzaWRlOiBcInJpZ2h0XCIsXG4gICAgLy8gICAgICBzb3VyY2U6IFwiLnNlYXJjaC5tb2JpbGUsIC5tYWluLW5hdmlnYXRpb24sIC5tZW51LW1vYmlsZS1idXR0b25zLWNvbnRhaW5lciwgLm1lbnUtdXNlci1yb2xlcy1tZW51LWNvbnRhaW5lciwgLm1lbnUtdXRpbGl0eS1tZW51LWNvbnRhaW5lclwiLFxuICAgIC8vICAgICAgcmVuYW1pbmc6IGZhbHNlLFxuICAgIC8vICAgICAgb25PcGVuOiBmdW5jdGlvbigpIHtcbiAgICAvLyAgICAgICAgICAkKHdpbmRvdykub24oXCJjbGljay5zaWRyXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAvLyAgICAgICAgICAgICAgJC5zaWRyKFwiY2xvc2VcIiwgc2lkck5hbWUpO1xuICAgIC8vICAgICAgICAgIH0pO1xuXG4gICAgLy8gICAgICAgICAgJChcIiNtb2JpbGUtbWVudS10b2dnbGVcIikuYWRkQ2xhc3MoXCJtZW51LW9wZW5cIik7XG4gICAgLy8gICAgICAgICAgJCgnYm9keScpLmFwcGVuZCgnPGRpdiBjbGFzcz1cIm1vYmlsZS1tZW51LW92ZXJsYXlcIj48L2Rpdj4nKTtcbiAgICAvLyAgICAgICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ2xvY2stc2Nyb2xsJyk7XG4gICAgLy8gICAgICAgICAgJCgnLnNpZHInKS5wcmVwZW5kKCc8YnV0dG9uIGNsYXNzPVwiY2xvc2UgbW9iaWxlIG1lbnVcIiBhcmlhLWxhYmVsPVwiQ2xvc2UgbW9iaWxlIG1lbnVcIj48aSBjbGFzcz1cImZhbCBmYS10aW1lc1wiPjwvaT48L2J1dHRvbj4nKTtcbiAgICAvLyAgICAgICAgICAkKCcuc2lkciAuY2xvc2UnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAvLyAgICAgICAgICAgICAgJC5zaWRyKFwiY2xvc2VcIiwgc2lkck5hbWUpO1xuICAgIC8vICAgICAgICAgIH0pXG4gICAgLy8gICAgICB9LFxuICAgIC8vICAgICAgb25DbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgICAgICAgJCh3aW5kb3cpLm9mZihcImNsaWNrLnNpZHJcIik7XG4gICAgLy8gICAgICAgICAgJChcIiNtb2JpbGUtbWVudS10b2dnbGVcIikucmVtb3ZlQ2xhc3MoXCJtZW51LW9wZW5cIik7XG4gICAgLy8gICAgICAgICAgJCgnLm1vYmlsZS1tZW51LW92ZXJsYXknKS5yZW1vdmUoKTtcbiAgICAvLyAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2xvY2stc2Nyb2xsJyk7XG4gICAgLy8gICAgICAgICAgJCgnLnNpZHIgLmNsb3NlJykucmVtb3ZlKCk7XG4gICAgLy8gICAgICB9XG4gICAgLy8gIH0pO1xuXG4gICAgIC8vIERvbid0IHlvdSBkYXJlIGNsb3NlIG1lIG91dCFcbiAgICAvLyAgJChcIiNcIiArIHNpZHJOYW1lKS5vbihcImNsaWNrLnNpZHJcIiwgZnVuY3Rpb24oZSkge1xuICAgIC8vICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAvLyAgfSk7XG5cbiAgICAvLyAgJChcIi5zaWRyICNwcmltYXJ5LW1lbnUgPi5tZW51LWl0ZW0taGFzLWNoaWxkcmVuXCIpLmFwcGVuZCgnPGkgY2xhc3M9XCJmYXMgZmEtY2FyZXQtZG93blwiPjwvaT4nKTtcblxuXG4gICAgLy8gICQoXCIuc2lkciAjcHJpbWFyeS1tZW51ID4gbGkubWVudS1pdGVtLWhhcy1jaGlsZHJlbiA+IGFcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgLy8gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8gICAgICAkKHRoaXMpLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCdvcGVuJyk7XG5cbiAgICAvLyAgICAgIHZhciBwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgpO1xuICAgIC8vICAgICAgaWYgKHBhcmVudC5jaGlsZHJlbihcIi5tZWdhLW1lbnVcIikubGVuZ3RoID4gMCkge1xuICAgIC8vICAgICAgICAgIHBhcmVudC5jaGlsZHJlbihcIi5tZWdhLW1lbnVcIikuc2xpZGVUb2dnbGUoKTtcbiAgICAvLyAgICAgIH1cbiAgICAvLyAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyAgfSk7XG5cblxuXG4gICAgIC8vQWxlcnQgYW5kIHBvcCB1cCBTdHVmZlxuICAgIC8vIHZhciBhZG1pbkhlaWdodCA9ICQoJyN3cGFkbWluYmFyJykub3V0ZXJIZWlnaHQoKTtcbiAgICAvLyB2YXIgaGVhZGVySGVpZ2h0ID0gJCgnLnNpdGUtbmV3aGVhZGVyJykub3V0ZXJIZWlnaHQoKTtcblxuICAgIC8vICQoJy5zaXRlLW5ld2hlYWRlcicpLmNzcygndG9wJywgYWRtaW5IZWlnaHQpO1xuICAgIC8vICQoJyNwcmltYXJ5JykuY3NzKCdtYXJnaW4tdG9wJyxoZWFkZXJIZWlnaHQpO1xuXG5cblxuICAgIC8vICQoIHdpbmRvdyApLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICAvLyAgIHZhciBhZG1pbkhlaWdodDIgPSAkKCcjd3BhZG1pbmJhcicpLm91dGVySGVpZ2h0KCk7XG4gICAgLy8gICB2YXIgaGVhZGVySGVpZ2h0MiA9ICQoJy5zaXRlLW5ld2hlYWRlcicpLm91dGVySGVpZ2h0KCk7XG4gICAgLy8gICAkKCcuc2l0ZS1uZXdoZWFkZXInKS5jc3MoJ3RvcCcsIGFkbWluSGVpZ2h0Mik7XG4gICAgLy8gICAkKCcjcHJpbWFyeScpLmNzcygnbWFyZ2luLXRvcCcsaGVhZGVySGVpZ2h0Mik7XG4gICAgLy8gfSk7XG5cblxuICAgIC8vICQoJy5jbG9zZS1hbGVydCcpLmNsaWNrKGZ1bmN0aW9uKCl7IC8vIENsYXNzIGZvciB0aGUgY2xvc2UgYnV0dG9uXG4gICAgLy8gICAgJCgnLmFsZXJ0LWJhcicpLmhpZGUoKTtcbiAgICAvLyAgICAkKCcuYWxlcnQtYmFyJykuY3NzKCdvcGFjaXR5JywgJzAnKTtcbiAgICAvLyAgICAkKCcuYWxlcnQtYmFyJykuY3NzKCdoZWlnaHQnLCAnMCcpO1xuICAgIC8vICAgICQoJy5zaXRlLW5ld2hlYWRlcicpLnJlbW92ZUNsYXNzKCdoYXMtYWxlcnQnKTtcbiAgICAvLyAgICB2YXIgaGVhZGVySGVpZ2h0MyA9ICQoJy5zaXRlLW5ld2hlYWRlcicpLm91dGVySGVpZ2h0KCk7XG4gICAgLy8gICAgJCgnI3ByaW1hcnknKS5jc3MoJ21hcmdpbi10b3AnLGhlYWRlckhlaWdodDMpO1xuXG4gICAgLy8gICAgJC5jb29raWUoJ2FsZXJ0LWJveCcsICdjbG9zZWQnLCB7IGV4cGlyZXM6IDEsIHBhdGg6ICcvJyB9KTtcbiAgICAvLyB9KTtcblxuXG4gICAgLy8gaWYoICQuY29va2llKCdhbGVydC1ib3gnKSA9PT0gJ2Nsb3NlZCcgKXtcbiAgICAvLyAgICQoJy5hbGVydC1iYXInKS5oaWRlKCk7XG4gICAgLy8gICAkKCcuYWxlcnQtYmFyJykuY3NzKCdvcGFjaXR5JywgJzAnKTtcbiAgICAvLyAgICQoJy5hbGVydC1iYXInKS5jc3MoJ2hlaWdodCcsICcwJyk7XG4gICAgLy8gICAkKCcuc2l0ZS1uZXdoZWFkZXInKS5yZW1vdmVDbGFzcygnaGFzLWFsZXJ0Jyk7XG4gICAgLy8gICB2YXIgaGVhZGVySGVpZ2h0NCA9ICQoJy5zaXRlLW5ld2hlYWRlcicpLm91dGVySGVpZ2h0KCk7XG4gICAgLy8gICAkKCcjcHJpbWFyeScpLmNzcygnbWFyZ2luLXRvcCcsaGVhZGVySGVpZ2h0NCk7XG5cbiAgICAvLyB9IGVsc2Uge1xuICAgIC8vICAgJCgnLmFsZXJ0LWJhcicpLnNob3coKTtcbiAgICAvLyAgICQoJy5hbGVydC1iYXInKS5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpO1xuICAgIC8vICAgJCgnLmFsZXJ0LWJhcicpLmNzcygnb3BhY2l0eScsICcxJyk7XG4gICAgLy8gICAkKCcuYWxlcnQtYmFyJykuY3NzKCdoZWlnaHQnLCAnYXV0bycpO1xuICAgIC8vICAgdmFyIGhlYWRlckhlaWdodDUgPSAkKCcuc2l0ZS1uZXdoZWFkZXInKS5vdXRlckhlaWdodCgpO1xuICAgIC8vICAgJCgnI3ByaW1hcnknKS5jc3MoJ21hcmdpbi10b3AnLGhlYWRlckhlaWdodDUpO1xuICAgIC8vIH1cbn0pO1xuIiwiLy8galF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XG4vLyAgICAgLyoqXG4vLyAgICAgICogTGVmdCBTaWRlYmFyIE1vYmlsZSBkcm9wZG93blxuLy8gICAgICAqL1xuLy8gICAgIGZ1bmN0aW9uIHRvZ2dsZU1lbnUoKSB7XG4vLyAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljaycpO1xuLy8gICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbi8vICAgICAgICAgJChcIi5tYWluLWNvbnRlbnQtd3JhcHBlcl9zaWRlYmFyIC5zaWRlYmFyLW1lbnVcIikuc2xpZGVUb2dnbGUoKTtcbi8vICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4vLyAgICAgICAgICAgICAkKCcubWFpbi1jb250ZW50LXdyYXBwZXJfc2lkZWJhciAuc2lkZWJhci1tZW51JykuYXR0cignYXJpYS1oaWRkZW4nLCBmYWxzZSk7XG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICAkKCcubWFpbi1jb250ZW50LXdyYXBwZXJfc2lkZWJhcicpLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XG4vLyAgICAgICAgIH1cbi8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xuLy8gICAgIH1cblxuLy8gICAgIC8vICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7XG4vLyAgICAgLy8gICAgIGlmICgkKHRoaXMpLndpZHRoKCkgPj0gMTAyNCkge1xuLy8gICAgIC8vICAgICAgICAgJCgnLm1haW4tY29udGVudC13cmFwcGVyX3NpZGViYXIgLnNpZGViYXItbWVudScpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuLy8gICAgIC8vICAgICB9XG4vLyAgICAgLy8gfSk7XG5cbi8vICAgICAkKCcuaW5uZXItcGFnZSAubW9iaWxlLW1lbnUtdG9nZ2xlJykub24oJ21vdXNlZG93biB0b3VjaHN0YXJ0JywgdG9nZ2xlTWVudSk7XG5cbi8vICAgICAvKipcbi8vICAgICAgKiBSaWdodCBTaWRlYmFyIEFuY2hvciBMaW5rc1xuLy8gICAgICAqL1xuXG4vLyAgICAgLy8gQWRkIHJpZ2h0IHNpZGViYXJcbi8vICAgICBmdW5jdGlvbiBhZGRUb1NpZGViYXIoKSB7XG4vLyAgICAgICAgIGNvbnN0IGhhc2ggPSAkKGxvY2F0aW9uKS5hdHRyKCdoYXNoJykucmVwbGFjZShcIiNcIiwgXCJcIik7XG4vLyAgICAgICAgIGNvbnN0IGNsYXNzSUQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XG4vLyAgICAgICAgIGlmIChoYXNoID09PSBjbGFzc0lEKSB7XG4vLyAgICAgICAgICAgICAkKCcucmlnaHQtc2lkZWJhcicpLmFwcGVuZCgnPGEgY2xhc3M9XCJzY3JvbGwtbGlua1wiIGhyZWY9XCIjJyArIGNsYXNzSUQgKyAnXCI+JyArICQodGhpcykuaHRtbCgpICsgJzwvYT4nKTtcbi8vICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgICAgICQoJy5yaWdodC1zaWRlYmFyJykuYXBwZW5kKCc8YSBocmVmPVwiIycgKyBjbGFzc0lEICsgJ1wiIGNsYXNzPVwic2Nyb2xsLWxpbmtcIj4nICsgJCh0aGlzKS5odG1sKCkgKyAnPC9hPicpO1xuLy8gICAgICAgICB9XG4vLyAgICAgfVxuXG4vLyAgICAgLy8gUmlnaHQgc2lkZWJhciBTbW9vdGggc2Nyb2xsaW5nXG4vLyAgICAgZnVuY3Rpb24gc2Nyb2xsU21vb3RoKGV2ZW50KSB7XG5cbi8vICAgICAgICAgLy8gU21vb3RoIFNjcm9sbGluZyBmb3IgcmlnaHQgc2lkZWJhciBhbmNob3JzXG4vLyAgICAgICAgIC8vIFJlZmVyZW5jZTogaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9zbmlwcGV0cy9qcXVlcnkvc21vb3RoLXNjcm9sbGluZy9cbi8vICAgICAgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCAnJykgPT0gdGhpcy5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgJycpICYmIGxvY2F0aW9uLmhvc3RuYW1lID09IHRoaXMuaG9zdG5hbWUpIHtcbi8vICAgICAgICAgICAgIC8vIEZpZ3VyZSBvdXQgZWxlbWVudCB0byBzY3JvbGwgdG9cbi8vICAgICAgICAgICAgIGxldCB0YXJnZXQgPSAkKHRoaXMuaGFzaCk7XG4vLyAgICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQubGVuZ3RoID8gdGFyZ2V0IDogJCgnW25hbWU9JyArIHRoaXMuaGFzaC5zbGljZSgxKSArICddJyk7XG4vLyAgICAgICAgICAgICAvLyBEb2VzIGEgc2Nyb2xsIHRhcmdldCBleGlzdD9cbi8vICAgICAgICAgICAgIGlmICh0YXJnZXQubGVuZ3RoKSB7XG4vLyAgICAgICAgICAgICAgICAgLy8gT25seSBwcmV2ZW50IGRlZmF1bHQgaWYgYW5pbWF0aW9uIGlzIGFjdHVhbGx5IGdvbm5hIGhhcHBlblxuLy8gICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4vLyAgICAgICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuLy8gICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IHRhcmdldC5vZmZzZXQoKS50b3AgLSAxNTBcbi8vICAgICAgICAgICAgICAgICB9LCAxMDAwLCBmdW5jdGlvbigpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbGJhY2sgYWZ0ZXIgYW5pbWF0aW9uXG4vLyAgICAgICAgICAgICAgICAgICAgIC8vIE11c3QgY2hhbmdlIGZvY3VzIVxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgJHRhcmdldCA9ICQodGFyZ2V0KTtcbi8vICAgICAgICAgICAgICAgICAgICAgJHRhcmdldC5mb2N1cygpO1xuLy8gICAgICAgICAgICAgICAgICAgICBpZiAoJHRhcmdldC5pcyhcIjpmb2N1c1wiKSkgeyAvLyBDaGVja2luZyBpZiB0aGUgdGFyZ2V0IHdhcyBmb2N1c2VkXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4vLyAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0LmF0dHIoJ3RhYmluZGV4JywnLTEnKTsgLy8gQWRkaW5nIHRhYmluZGV4IGZvciBlbGVtZW50cyBub3QgZm9jdXNhYmxlXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0LmZvY3VzKCk7IC8vIFNldCBmb2N1cyBhZ2FpblxuLy8gICAgICAgICAgICAgICAgICAgICB9O1xuLy8gICAgICAgICAgICAgICAgIH0pO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9XG5cbi8vICAgICB9XG4vLyAgICAgJCgnLnBhZ2UtdGVtcGxhdGUtcGFnZS1pbm5lci1wYWdlIC5mbGV4JykuZWFjaChmdW5jdGlvbigpIHtcbi8vICAgICAgICAgdmFyIHN0ciA9ICQodGhpcykuZmluZCgnaDInKS50ZXh0KCk7XG4vLyAgICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9cXHMrL2csICctJykudG9Mb3dlckNhc2UoKTtcbi8vICAgICAgICAgJCh0aGlzKS5maW5kKCdoMicpLmF0dHIoJ2lkJywgc3RyKTtcbi8vICAgICB9KTtcblxuLy8gICAgICQoJy5wYWdlLXRlbXBsYXRlLXBhZ2UtZnVsbC13aWR0aCAuZnVsbC13aWR0aC1jb250ZW50JykuZWFjaChmdW5jdGlvbigpIHtcbi8vICAgICAgICAgdmFyIHN0ciA9ICQodGhpcykuZmluZCgnaDInKS50ZXh0KCk7XG4vLyAgICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9cXHMrL2csICctJykudG9Mb3dlckNhc2UoKTtcbi8vICAgICAgICAgJCh0aGlzKS5hdHRyKCdpZCcsIHN0cik7XG4vLyAgICAgfSk7XG5cblxuLy8gICAgICQoJy5mbGV4IGgyJykuZWFjaChhZGRUb1NpZGViYXIpO1xuXG4vLyAgICAgJCgnLnJpZ2h0LXNpZGViYXIgYTpmaXJzdC1jaGlsZCcpLmFkZENsYXNzKCdhY3RpdmUnKTtcbi8vICAgICAkKCcucmlnaHQtc2lkZWJhciBhJykub24oJ2NsaWNrJywgc2Nyb2xsU21vb3RoKTtcblxuXG5cbi8vICAgICAvLyBSaWdodCBzaWRlYmFyIHN0aWNrIHBvc2l0aW9uXG4vLyAgICAgY29uc3QgaGVhZGVySGVpZ2h0ID0gJCgnLnNpdGUtaGVhZGVyJykub3V0ZXJIZWlnaHQodHJ1ZSk7XG4vLyAgICAgY29uc3Qgc2lkZWJhckhlaWdodCA9ICQoJy5yaWdodC1zaWRlYmFyJykub3V0ZXJIZWlnaHQodHJ1ZSk7XG4vLyAgICAgJCgnLnJpZ2h0LXNpZGViYXInKS5jc3MoJ3RvcCcsIGhlYWRlckhlaWdodCk7XG4vLyAgICAgJCgnLnJpZ2h0LXNpZGViYXInKS5jc3MoJy0tb2Zmc2V0JywgaGVhZGVySGVpZ2h0KTtcbi8vICAgICAvLyQoJy5yaWdodC1zaWRlYmFyJykuY3NzKCdtYXgtaGVpZ2h0Jywgc2lkZWJhckhlaWdodCArIDEwMCk7XG5cbi8vICAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xuLy8gICAgICAgICBjb25zdCBoZWFkZXJIZWlnaHQyID0gJCgnLnNpdGUtaGVhZGVyJykub3V0ZXJIZWlnaHQodHJ1ZSk7XG4vLyAgICAgICAgIGNvbnN0IHNpZGViYXJIZWlnaHQyID0gJCgnLnJpZ2h0LXNpZGViYXInKS5vdXRlckhlaWdodCh0cnVlKTtcbi8vICAgICAgICAgJCgnLnJpZ2h0LXNpZGViYXInKS5jc3MoJ3RvcCcsIGhlYWRlckhlaWdodDIpO1xuLy8gICAgICAgICAkKCcucmlnaHQtc2lkZWJhcicpLmNzcygnLS1vZmZzZXQnLCBoZWFkZXJIZWlnaHQyKTtcbi8vICAgICAgICAgLy8kKCcucmlnaHQtc2lkZWJhcicpLmNzcygnbWF4LWhlaWdodCcsIHNpZGViYXJIZWlnaHQyICsgMTAwKTtcblxuLy8gICAgIH0pO1xuXG5cbi8vICAgICAvLyBSaWdodCBTaWRlYmFyIEhpZ2hsaWdodGluZ1xuLy8gICAgIC8vICRzZWN0aW9ucyBpbmNsdWRlcyBhbGwgb2YgdGhlIGNvbnRhaW5lciBkaXZzIHRoYXQgcmVsYXRlIHRvIG1lbnUgaXRlbXMuXG4vLyAgICAgdmFyICRzZWN0aW9ucyA9ICQoJy5jZW50ZXItY29udGVudCAuZmxleCcpO1xuXG5cbi8vICAgICBpZiAoICQoICdib2R5JyApLmZpcnN0KCkuaGFzQ2xhc3MoICdwYWdlLXRlbXBsYXRlLXBhZ2UtaW5uZXItcGFnZScgKSApIHtcblxuLy8gICAgICAgLy8gVGhlIHVzZXIgc2Nyb2xsc1xuLy8gICAgICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpe1xuXG4vLyAgICAgICAgIC8vIGN1cnJlbnRTY3JvbGwgaXMgdGhlIG51bWJlciBvZiBwaXhlbHMgdGhlIHdpbmRvdyBoYXMgYmVlbiBzY3JvbGxlZFxuLy8gICAgICAgICB2YXIgY3VycmVudFNjcm9sbCA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XG5cbi8vICAgICAgICAgLy8gJGN1cnJlbnRTZWN0aW9uIGlzIHNvbWV3aGVyZSB0byBwbGFjZSB0aGUgc2VjdGlvbiB3ZSBtdXN0IGJlIGxvb2tpbmcgYXRcbi8vICAgICAgICAgdmFyICRjdXJyZW50U2VjdGlvbiA9ICcnO1xuXG4vLyAgICAgICAgIC8vIFdlIGNoZWNrIHRoZSBwb3NpdGlvbiBvZiBlYWNoIG9mIHRoZSBkaXZzIGNvbXBhcmVkIHRvIHRoZSB3aW5kb3dzIHNjcm9sbCBwb3NpdG9uXG4vLyAgICAgICAgICRzZWN0aW9ucy5lYWNoKGZ1bmN0aW9uKCl7XG4vLyAgICAgICAgICAgLy8gZGl2UG9zaXRpb24gaXMgdGhlIHBvc2l0aW9uIGRvd24gdGhlIHBhZ2UgaW4gcHggb2YgdGhlIGN1cnJlbnQgc2VjdGlvbiB3ZSBhcmUgdGVzdGluZ1xuLy8gICAgICAgICAgIHZhciBkaXZQb3NpdGlvbiA9ICQodGhpcykub2Zmc2V0KCkudG9wO1xuXG4vLyAgICAgICAgICAgLy8gSWYgdGhlIGRpdlBvc2l0aW9uIGlzIGxlc3MgdGhlIHRoZSBjdXJyZW50U2Nyb2xsIHBvc2l0aW9uIHRoZSBkaXYgd2UgYXJlIHRlc3RpbmcgaGFzIG1vdmVkIGFib3ZlIHRoZSB3aW5kb3cgZWRnZS5cbi8vICAgICAgICAgICAvLyB0aGUgLTEgaXMgc28gdGhhdCBpdCBpbmNsdWRlcyB0aGUgZGl2IDFweCBiZWZvcmUgdGhlIGRpdiBsZWF2ZSB0aGUgdG9wIG9mIHRoZSB3aW5kb3cuXG4vLyAgICAgICAgICAgaWYoIGRpdlBvc2l0aW9uIC0gMjAwIDwgY3VycmVudFNjcm9sbCApe1xuLy8gICAgICAgICAgICAgLy8gV2UgaGF2ZSBlaXRoZXIgcmVhZCB0aGUgc2VjdGlvbiBvciBhcmUgY3VycmVudGx5IHJlYWRpbmcgdGhlIHNlY3Rpb24gc28gd2UnbGwgY2FsbCBpdCBvdXIgY3VycmVudCBzZWN0aW9uXG4vLyAgICAgICAgICAgICAkY3VycmVudFNlY3Rpb24gPSAkKHRoaXMpO1xuXG4vLyAgICAgICAgICAgICAvLyBJZiB0aGUgbmV4dCBkaXYgaGFzIGFsc28gYmVlbiByZWFkIG9yIHdlIGFyZSBjdXJyZW50bHkgcmVhZGluZyBpdCB3ZSB3aWxsIG92ZXJ3cml0ZSB0aGlzIHZhbHVlIGFnYWluLiBUaGlzIHdpbGwgbGVhdmUgdXMgd2l0aCB0aGUgTEFTVCBkaXYgdGhhdCBwYXNzZWQuXG4vLyAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgaWYgKCAkY3VycmVudFNlY3Rpb24gIT0gJycpe1xuXG4vLyAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGJpdCBvZiBjb2RlIHRoYXQgdXNlcyB0aGUgY3VycmVudFNlY3Rpb24gYXMgaXRzIHNvdXJjZSBvZiBJRFxuLy8gICAgICAgICAgICAgICAgIHZhciBpZCA9ICRjdXJyZW50U2VjdGlvbi5maW5kKCdoMicpLmF0dHIoJ2lkJyk7XG4vLyAgICAgICAgICAgICAgICAgJCgnYS5zY3JvbGwtbGluaycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbi8vICAgICAgICAgICAgICAgICAkKCdhLnNjcm9sbC1saW5rW2hyZWY9XCIjJytpZCsnXCJdJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuLy8gICAgICAgICAgICAgfVxuXG5cbi8vICAgICAgICAgfSk7XG5cbi8vICAgICAgIH0pO1xuLy8gICAgIH1cblxuLy8gICAgIC8qKlxuLy8gICAgICAqIEV4cGFuZC9Db2xsYXBzZSBSZXBlYXRlclxuLy8gICAgICAqL1xuLy8gICAgIGZ1bmN0aW9uIHRvZ2dsZUF0dHIoKSB7XG4vLyAgICAgICAgIGlmICgkKCcuY29sbGFwc2UtdG9nZ2xlJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4vLyAgICAgICAgICAgICAkKCcuY29sbGFwc2UtY29udGVudCcpLmF0dHIoJ2FyaWEtaGlkZGVuJywgZmFsc2UpO1xuLy8gICAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICAgICAgJCgnLmNvbGxhcHNlLWNvbnRlbnQnKS5hdHRyKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuLy8gICAgICAgICB9XG4vLyAgICAgfVxuXG4vLyAgICAgZnVuY3Rpb24gdG9nZ2xlRXhwYW5kQ29sbGFwc2UoKSB7XG4vLyAgICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuLy8gICAgICAgICAkKCcuYWN0aXZlJykubm90KHRoaXMpLm5leHQoXCIuY29sbGFwc2UtY29udGVudFwiKS5zbGlkZVRvZ2dsZSgpO1xuLy8gICAgICAgICAkKCcuYWN0aXZlJykubm90KHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbi8vICAgICAgICAgJCh0aGlzKS5uZXh0KFwiLmNvbGxhcHNlLWNvbnRlbnRcIikuc2xpZGVUb2dnbGUoKTtcbi8vICAgICAgICAgdG9nZ2xlQXR0cigpO1xuLy8gICAgICAgICByZXR1cm4gZmFsc2U7XG4vLyAgICAgfVxuLy8gICAgICQoJy5jb2xsYXBzZS1jb250ZW50JykuaGlkZSgpO1xuLy8gICAgICQoJy5jb2xsYXBzZS10b2dnbGUnKS5vbignY2xpY2snLCB0b2dnbGVFeHBhbmRDb2xsYXBzZSk7XG5cblxuLy8gICAgIC8vQWRkIGEgdGFibGUgcm93IHN0eWxlXG4vLyAgICAgJCgnLnRhYmxlLWhlYWRlcicpLnBhcmVudCgnLmNvbHVtbi0xJykuYWRkQ2xhc3MoJ2hlYWRlci1yb3cnKTtcblxuXG4vLyAgICAgLy8gLy9JbWFnZSBDYXJkc1xuLy8gICAgIGlmKCQod2luZG93KS53aWR0aCgpID49IDEwMjQpe1xuLy8gICAgICAgICAkKCcuaW1hZ2UtY2FyZHNfaXRlbScpLmVhY2goZnVuY3Rpb24oKSB7XG4vLyAgICAgICAgICAgICB2YXIgY2FyZEhlaWdodCA9ICQodGhpcykuZmluZCgnLmNhcmQtc2xpZGUnKS5vdXRlckhlaWdodCh0cnVlKTtcbi8vICAgICAgICAgICAgIHZhciBjYXJkSGVpZ2h0VG90YWwgPSBjYXJkSGVpZ2h0ICsgMzA7XG4vLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhjYXJkSGVpZ2h0VG90YWwpO1xuLy8gICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ2hlaWdodCcsIGNhcmRIZWlnaHRUb3RhbCArICdweCcpO1xuLy8gICAgICAgICAgfSk7XG4vLyAgICAgICAgIHZhciAkc2FtZUhlaWdodEhlYWRlciA9ICQoJy5pbWFnZS1jYXJkc19pdGVtJyk7XG4vLyAgICAgICAgIHZhciBtYXhIZWlnaHQgPSAwO1xuLy8gICAgICAgICAkc2FtZUhlaWdodEhlYWRlci5lYWNoKGZ1bmN0aW9uKCkge1xuLy8gICAgICAgICAgICAgbWF4SGVpZ2h0ID0gTWF0aC5tYXgobWF4SGVpZ2h0LCAkKHRoaXMpLm91dGVySGVpZ2h0KCkpO1xuLy8gICAgICAgICB9KTtcbi8vICAgICAgICAgJHNhbWVIZWlnaHRIZWFkZXIuY3NzKHsgaGVpZ2h0OiBtYXhIZWlnaHQgKyAncHgnIH0pO1xuXG4vLyAgICAgICAgICQoJy5pbWFnZS1jYXJkc19pdGVtJykuZWFjaChmdW5jdGlvbigpIHtcbi8vICAgICAgICAgICAgIHZhciBjYXJkQ29udGVudCA9ICQodGhpcykuZmluZCgnLmNhcmQtc2xpZGUgLmNhcmQtY29udGVudCcpLm91dGVySGVpZ2h0KHRydWUpO1xuLy8gICAgICAgICAgICAgdmFyIGNhcmRDb250ZW50VG90YWwgPSBjYXJkQ29udGVudCArIDMwO1xuLy8gICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuY2FyZC1zbGlkZScpLmNzcygnYm90dG9tJywnLScgKyBjYXJkQ29udGVudFRvdGFsICsgJ3B4Jyk7XG4vLyAgICAgICAgICAgICAkKHRoaXMpLmhvdmVyKGZ1bmN0aW9uKCl7XG4vLyAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLmNhcmQtc2xpZGUnKS5jc3MoJ2JvdHRvbScsMCk7XG4vLyAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCl7XG4vLyAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLmNhcmQtc2xpZGUnKS5jc3MoJ2JvdHRvbScsJy0nICsgY2FyZENvbnRlbnRUb3RhbCArICdweCcpO1xuLy8gICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgICB9KTtcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgICAkKCcuaW1hZ2UtY2FyZHNfaXRlbScpLmVhY2goZnVuY3Rpb24oKSB7XG4vLyAgICAgICAgICAgICAkKHRoaXMpLmNzcygnaGVpZ2h0JywgJ2F1dG8nKTtcbi8vICAgICAgICAgfSk7XG4vLyAgICAgfVxuXG4vLyAgICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbi8vICAgICAgICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPj0gMTAyNCl7XG4vLyAgICAgICAgICAgICAkKCcuaW1hZ2UtY2FyZHNfaXRlbScpLmVhY2goZnVuY3Rpb24oKSB7XG4vLyAgICAgICAgICAgICAgICAgdmFyIGNhcmRIZWlnaHQyID0gJCh0aGlzKS5maW5kKCcuY2FyZC1zbGlkZScpLm91dGVySGVpZ2h0KHRydWUpO1xuLy8gICAgICAgICAgICAgICAgIHZhciBjYXJkSGVpZ2h0VG90YWwyID0gY2FyZEhlaWdodDIgKyAzMDtcbi8vICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjYXJkSGVpZ2h0VG90YWwyKTtcbi8vICAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcygnaGVpZ2h0JywgY2FyZEhlaWdodFRvdGFsMiArICdweCcpO1xuLy8gICAgICAgICAgICAgIH0pO1xuLy8gICAgICAgICAgICAgdmFyICRzYW1lSGVpZ2h0SGVhZGVyMiA9ICQoJy5pbWFnZS1jYXJkc19pdGVtJyk7XG4vLyAgICAgICAgICAgICB2YXIgbWF4SGVpZ2h0MiA9IDA7XG4vLyAgICAgICAgICAgICAkc2FtZUhlaWdodEhlYWRlcjIuZWFjaChmdW5jdGlvbigpIHtcbi8vICAgICAgICAgICAgICAgICBtYXhIZWlnaHQyID0gTWF0aC5tYXgobWF4SGVpZ2h0MiwgJCh0aGlzKS5vdXRlckhlaWdodCgpKTtcbi8vICAgICAgICAgICAgIH0pO1xuLy8gICAgICAgICAgICAgJHNhbWVIZWlnaHRIZWFkZXIyLmNzcyh7IGhlaWdodDogbWF4SGVpZ2h0MiArICdweCcgfSk7XG5cbi8vICAgICAgICAgICAgICQoJy5pbWFnZS1jYXJkc19pdGVtJykuZWFjaChmdW5jdGlvbigpIHtcbi8vICAgICAgICAgICAgICAgICB2YXIgY2FyZENvbnRlbnQyID0gJCh0aGlzKS5maW5kKCcuY2FyZC1zbGlkZSAuY2FyZC1jb250ZW50Jykub3V0ZXJIZWlnaHQodHJ1ZSk7XG4vLyAgICAgICAgICAgICAgICAgdmFyIGNhcmRDb250ZW50VG90YWwyID0gY2FyZENvbnRlbnQyICsgMzA7XG4vLyAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuY2FyZC1zbGlkZScpLmNzcygnYm90dG9tJywnLScgKyBjYXJkQ29udGVudFRvdGFsMiArICdweCcpO1xuLy8gICAgICAgICAgICAgICAgICQodGhpcykuaG92ZXIoZnVuY3Rpb24oKXtcbi8vICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLmNhcmQtc2xpZGUnKS5jc3MoJ2JvdHRvbScsMCk7XG4vLyAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbigpe1xuLy8gICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuY2FyZC1zbGlkZScpLmNzcygnYm90dG9tJywnLScgKyBjYXJkQ29udGVudFRvdGFsMiArICdweCcpO1xuLy8gICAgICAgICAgICAgICAgIH0pO1xuLy8gICAgICAgICAgICAgIH0pO1xuLy8gICAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICAgICAgJCgnLmltYWdlLWNhcmRzX2l0ZW0nKS5lYWNoKGZ1bmN0aW9uKCkge1xuLy8gICAgICAgICAgICAgICAgICQodGhpcykuY3NzKCdoZWlnaHQnLCAnYXV0bycpO1xuLy8gICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgIH1cbi8vICAgICB9KTtcblxuXG4vLyB9KTtcbiIsIi8vIGpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xuLy8gICAgIC8qKlxuLy8gICAgICAqIExlZnQgU2lkZWJhciBNb2JpbGUgZHJvcGRvd25cbi8vICAgICAgKi9cbi8vICAgICBmdW5jdGlvbiB0b2dnbGVGaWx0ZXJzKCkge1xuLy8gICAgICAgICBpZiAoJCh0aGlzKS53aWR0aCgpIDw9IDEwMjQpIHtcbi8vICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2NsaWNrJyk7XG4vLyAgICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbi8vICAgICAgICAgICAgICQoXCIuZmlsdGVyLWNvbnRhaW5lclwiKS5zbGlkZVRvZ2dsZSgpO1xuLy8gICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4vLyAgICAgICAgICAgICAgICAgJCgnLmZpbHRlci1jb250YWluZXInKS5hdHRyKCdhcmlhLWhpZGRlbicsIGZhbHNlKTtcbi8vICAgICAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICAgICAgJCgnLmZpbHRlci1jb250YWluZXInKS5hdHRyKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuLy8gICAgICAgICB9XG4vLyAgICAgfVxuXG4vLyAgICAgLy8gJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbi8vICAgICAvLyAgICAgaWYgKCQodGhpcykud2lkdGgoKSA+PSAxMDI0KSB7XG4vLyAgICAgLy8gICAgICAgICAkKCcuZmlsdGVyLWNvbnRhaW5lcicpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuLy8gICAgIC8vICAgICAgICAgJCgnLmZpbHRlci1jb250YWluZXInKS5hdHRyKCdhcmlhLWhpZGRlbicsIGZhbHNlKTtcbi8vICAgICAvLyAgICAgfSBlbHNlIHtcbi8vICAgICAvLyAgICAgICAgICQoJy5maWx0ZXItY29udGFpbmVyJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbi8vICAgICAvLyAgICAgICAgICQoJy5maWx0ZXItY29udGFpbmVyJykuYXR0cignYXJpYS1oaWRkZW4nLCB0cnVlKTtcbi8vICAgICAvL1xuLy8gICAgIC8vICAgICB9XG4vLyAgICAgLy8gfSk7XG5cblxuLy8gICAgICQoJy5maWx0ZXItdGl0bGUnKS5vbignbW91c2Vkb3duIHRvdWNoc3RhcnQnLCB0b2dnbGVGaWx0ZXJzKTtcbi8vICAgICAvLyBcbi8vICAgICAvLyAkKGRvY3VtZW50KS5vbihcInNmOmFqYXhmaW5pc2hcIiwgXCIuc2VhcmNoYW5kZmlsdGVyXCIsIGZ1bmN0aW9uKCl7XG4vLyAgICAgLy8gICAgICBpZiAoJCh0aGlzKS53aWR0aCgpIDw9IDEwMjQpIHtcbi8vICAgICAvLyAgICAgICAgICQoJy5maWx0ZXItY29udGFpbmVyJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbi8vICAgICAvLyAgICAgICAgICQoJy5maWx0ZXItY29udGFpbmVyJykuYXR0cignYXJpYS1oaWRkZW4nLCB0cnVlKTtcbi8vICAgICAvLyAgICAgfVxuLy8gICAgIC8vXG4vLyAgICAgLy8gfSk7XG5cbi8vICAgICB2YXIgcXVpY2tsaW5rcyA9ICQoJy5ldmVudC1zaWRlYmFyX19xdWlja2xpbmtzJyk7XG4vLyAgICAgaWYgKCQodGhpcykud2lkdGgoKSA8PSAxMDI0KSB7XG4vLyAgICAgICAgICQoJy5ldmVudC1saXN0JykuYXBwZW5kKHF1aWNrbGlua3MpO1xuLy8gICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICQoJy5ldmVudC1zaWRlYmFyJykuYXBwZW5kKHF1aWNrbGlua3MpO1xuLy8gICAgIH1cblxuLy8gICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7XG4vLyAgICAgICAgIGlmICgkKHRoaXMpLndpZHRoKCkgPD0gMTAyNCkge1xuLy8gICAgICAgICAgICAgJCgnLmV2ZW50LWxpc3QnKS5hcHBlbmQocXVpY2tsaW5rcyk7XG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICAkKCcuZXZlbnQtc2lkZWJhcicpLmFwcGVuZChxdWlja2xpbmtzKTtcbi8vICAgICAgICAgfVxuLy8gICAgIH0pO1xuXG4vLyAgICAgLy8gVGV4dGJvb2sgTW9iaWxlIExpbmtzIERyb3Bkb3dvblxuXG4vLyAgICAgJChcIi5tb2JpbGUtYWN0aW9ucyA+IC5pY29uLXdyYXBcIikub24oXCJtb3VzZWRvd24gdG91Y2hzdGFydFwiLCBmdW5jdGlvbihlKSB7XG4vLyAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbi8vICAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4vLyAgICAgICAgICQodGhpcykubmV4dCgnLm1vYmlsZS1hY3Rpb24tZHJvcGRvd24nKS50b2dnbGVDbGFzcygnb3BlbicpO1xuLy8gICAgICAgICByZXR1cm4gZmFsc2U7XG4vLyAgICAgfSk7XG5cbi8vIH0pO1xuIiwiLy8galF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XG5cbi8vICAgICAvLyBTY3JvbGwgdG8gYmVoYXZpb3IgZm9yIGxpbmtzIHRoYXQgaW5jbHVkZSBhbmQgSUQgXG4vLyAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XG4vLyAgICAgICAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuLy8gICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuLy8gICAgICAgICAgICAgIHNjcm9sbFRvcCA6ICAkKGhhc2gpLm9mZnNldCgpLnRvcFxuLy8gICAgICAgICAgfSwgNTAwKTtcbi8vICAgICAgfTtcblxuLy8gICAgICQoJy5wcm9ncmFtLXNsaWRlcl9zbGlkZV93cmFwJykuc2xpY2soe1xuLy8gICAgICAgICBzcGVlZDogMzAwLFxuLy8gICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4vLyAgICAgICAgIGNlbnRlcm1vZGU6IHRydWUsXG4vLyAgICAgICAgIGluZmluaXRlOiB0cnVlLFxuLy8gICAgICAgICBkcmFnZ2FibGU6IHRydWUsXG4vLyAgICAgICAgIGNzc0Vhc2U6ICdsaW5lYXInLFxuLy8gICAgICAgICB2YXJpYWJsZVdpZHRoOiB0cnVlLFxuLy8gICAgICAgICBhZGFwdGl2ZUhlaWdodDogdHJ1ZSxcbi8vICAgICAgICAgdG91Y2hUaHJlc2hvbGQ6IDEwMCxcbi8vICAgICAgICAgLy9jZW50ZXJNb2RlOiB0cnVlLFxuLy8gICAgICAgICBmb2N1c09uU2VsZWN0OiB0cnVlLFxuLy8gICAgICAgICBwcmV2QXJyb3c6ICQoJy5wcmV2LWFycm93JyksXG4vLyAgICAgICAgIG5leHRBcnJvdzogJCgnLm5leHQtYXJyb3cnKSxcbi8vICAgICAgICAgcmVzcG9uc2l2ZTogW1xuLy8gICAgICAgICB7XG4vLyAgICAgICAgICAgICBicmVha3BvaW50OiAxMDI0LFxuLy8gICAgICAgICAgICAgc2V0dGluZ3M6IHtcbi8vICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4vLyAgICAgICAgICAgICAgICAgLy9zbGlkZXNUb1Njcm9sbDogMyxcbi8vICAgICAgICAgICAgICAgICAvL2luZmluaXRlOiB0cnVlLFxuLy8gICAgICAgICAgICAgICAgIC8vZG90czogdHJ1ZVxuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9LFxuLy8gICAgICAgICB7XG4vLyAgICAgICAgICAgICBicmVha3BvaW50OiA3NjgsXG4vLyAgICAgICAgICAgICBzZXR0aW5nczoge1xuLy8gICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbi8vICAgICAgICAgICAgICAgICAvL3NsaWRlc1RvU2Nyb2xsOiAyXG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgIH0sXG4vLyAgICAgICAgIHtcbi8vICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDQ4MCxcbi8vICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4vLyAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuLy8gICAgICAgICAgICAgICAgIC8vc2xpZGVzVG9TY3JvbGw6IDFcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgfVxuLy8gICAgICAgXVxuLy8gICAgIH0pO1xuXG4vLyAgICAgLy92aWRlbyBzbGlkZXJcbi8vICAgICAkKCcubWVkaWEtZ2FsbGVyeScpLnNsaWNrKHtcbi8vICAgICAgICAgc3BlZWQ6IDMwMCxcbi8vICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuLy8gICAgICAgICBjZW50ZXJtb2RlOiB0cnVlLFxuLy8gICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcbi8vICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxuLy8gICAgICAgICBjc3NFYXNlOiAnbGluZWFyJyxcbi8vICAgICAgICAgdmFyaWFibGVXaWR0aDogdHJ1ZSxcbi8vICAgICAgICAgYWRhcHRpdmVIZWlnaHQ6IHRydWUsXG4vLyAgICAgICAgIHRvdWNoVGhyZXNob2xkOiAxMDAsXG4vLyAgICAgICAgIC8vY2VudGVyTW9kZTogdHJ1ZSxcbi8vICAgICAgICAgZm9jdXNPblNlbGVjdDogZmFsc2UsXG4vLyAgICAgICAgIHByZXZBcnJvdzogJCgnLnByZXYtYXJyb3ctdmlkZW8nKSxcbi8vICAgICAgICAgbmV4dEFycm93OiAkKCcubmV4dC1hcnJvdy12aWRlbycpLFxuLy8gICAgICAgICByZXNwb25zaXZlOiBbXG4vLyAgICAgICAgIHtcbi8vICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDEwMjQsXG4vLyAgICAgICAgICAgICBzZXR0aW5nczoge1xuLy8gICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbi8vICAgICAgICAgICAgICAgICAvL3NsaWRlc1RvU2Nyb2xsOiAzLFxuLy8gICAgICAgICAgICAgICAgIC8vaW5maW5pdGU6IHRydWUsXG4vLyAgICAgICAgICAgICAgICAgLy9kb3RzOiB0cnVlXG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgIH0sXG4vLyAgICAgICAgIHtcbi8vICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2OCxcbi8vICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4vLyAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuLy8gICAgICAgICAgICAgICAgIC8vc2xpZGVzVG9TY3JvbGw6IDJcbi8vICAgICAgICAgICAgICAgICAvL3ZhcmlhYmxlV2lkdGg6IGZhbHNlLFxuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9LFxuLy8gICAgICAgICB7XG4vLyAgICAgICAgICAgICBicmVha3BvaW50OiA0ODAsXG4vLyAgICAgICAgICAgICBzZXR0aW5nczoge1xuLy8gICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbi8vICAgICAgICAgICAgICAgICAvL3ZhcmlhYmxlV2lkdGg6IGZhbHNlLFxuLy8gICAgICAgICAgICAgICAgIC8vc2xpZGVzVG9TY3JvbGw6IDFcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgfVxuLy8gICAgICAgXVxuLy8gICAgIH0pO1xuXG4vLyAgICAgJCgnLnRhYi1jb250ZW50LXdyYXAnKS5zbGljayh7XG4vLyAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcbi8vICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4vLyAgICAgICAgIGFycm93czogZmFsc2UsXG4vLyAgICAgICAgIGZhZGU6IHRydWUsXG4vLyAgICAgICAgIGluZmluaXRlOiB0cnVlLFxuLy8gICAgICAgICBhZGFwdGl2ZUhlaWdodDogdHJ1ZSxcbi8vICAgICAgICAgYXNOYXZGb3I6ICcudGFiJ1xuLy8gICAgIH0pO1xuLy8gICAgIC8vdmFyIHRhYkNvdW50ID0gJChcIi50YWIgcFwiKS5sZW5ndGggLSAuMTtcbi8vICAgICAkKCcudGFiJykuc2xpY2soe1xuLy8gICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbi8vICAgICAgICAgc2xpZGVzVG9TaG93OiAxMixcbi8vICAgICAgICAgYXNOYXZGb3I6ICcudGFiLWNvbnRlbnQtd3JhcCcsXG4vLyAgICAgICAgIGZvY3VzT25TZWxlY3Q6IHRydWUsXG4vLyAgICAgICAgIGluZmluaXRlOiB0cnVlLFxuLy8gICAgICAgICBjc3NFYXNlOiAnbGluZWFyJyxcbi8vICAgICAgICAgdmFyaWFibGVXaWR0aDogdHJ1ZSxcbi8vICAgICAgICAgcHJldkFycm93OiAkKCcucHJldi1hcnJvdy10aW1lbGluZScpLFxuLy8gICAgICAgICBuZXh0QXJyb3c6ICQoJy5uZXh0LWFycm93LXRpbWVsaW5lJyksXG4vLyAgICAgICAgIHJlc3BvbnNpdmU6IFtcbi8vICAgICAgICAge1xuLy8gICAgICAgICAgICAgYnJlYWtwb2ludDogNzY4LFxuLy8gICAgICAgICAgICAgc2V0dGluZ3M6IHtcbi8vICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXG4vLyAgICAgICAgICAgICAgICAgdmFyaWFibGVXaWR0aDogZmFsc2UsXG4vLyAgICAgICAgICAgICAgICAgLy9zbGlkZXNUb1Njcm9sbDogMVxuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9LFxuLy8gICAgICAgICB7XG4vLyAgICAgICAgICAgICBicmVha3BvaW50OiA0ODAsXG4vLyAgICAgICAgICAgICBzZXR0aW5nczoge1xuLy8gICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbi8vICAgICAgICAgICAgICAgICB2YXJpYWJsZVdpZHRoOiBmYWxzZSxcbi8vICAgICAgICAgICAgICAgICAvL3NsaWRlc1RvU2Nyb2xsOiAxXG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgIH0sXG5cbi8vICAgICAgICAgXVxuLy8gICAgIH0pO1xuXG4vLyAgICAgJCgnLnN0YXRzJykuc2xpY2soe1xuLy8gICAgICAgICBzcGVlZDogMzAwLFxuLy8gICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4vLyAgICAgICAgIGNlbnRlcm1vZGU6IHRydWUsXG4vLyAgICAgICAgIGluZmluaXRlOiB0cnVlLFxuLy8gICAgICAgICBkcmFnZ2FibGU6IHRydWUsXG4vLyAgICAgICAgIGNzc0Vhc2U6ICdsaW5lYXInLFxuLy8gICAgICAgICB2YXJpYWJsZVdpZHRoOiB0cnVlLFxuLy8gICAgICAgICBhZGFwdGl2ZUhlaWdodDogdHJ1ZSxcbi8vICAgICAgICAgdG91Y2hUaHJlc2hvbGQ6IDEwMCxcbi8vICAgICAgICAgZm9jdXNPblNlbGVjdDogZmFsc2UsXG4vLyAgICAgICAgIGFycm93czogZmFsc2UsXG4vLyAgICAgICAgIG1vYmlsZUZpcnN0OiB0cnVlLFxuLy8gICAgICAgICByZXNwb25zaXZlOiBbe1xuLy8gICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2OCxcbi8vICAgICAgICAgICBzZXR0aW5nczogJ3Vuc2xpY2snXG4vLyAgICAgICAgIH1dXG4vLyAgICAgfSk7XG5cbi8vICAgICAvLyBNYWtpbmcgc3VyZSB0aGUgc2xpZGVyIGZpcmVzIG9uIHdoZW4gdGhlIHdpbmRvdyByZXNpemVzXG4vLyAgICAgICAgICQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24oKXtcbi8vICAgICAgICAgICAkKCcuc3RhdHMnKS5zbGljaygncmVzaXplJyk7XG4vLyAgICAgICAgIH0pO1xuXG5cbi8vICAgICAvL01vZGFsIHBvcF91cFxuLy8gICAgIGlmKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJyN2aWRlby1wb3B1cCcpICE9IC0xKSB7XG4vLyAgICAgICAgICQoJy52aWRlby1wb3B1cCcpLmNzcygndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XG4vLyAgICAgICAgICQoJy52aWRlby1wb3B1cCcpLmNzcygnb3BhY2l0eScsICcxJyk7XG4vLyAgICAgICAgICQoJy52aWRlby1wb3B1cCcpLmNzcygndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XG4vLyAgICB9XG5cbi8vICAgIC8vY29udGFjdCBtb2RhbFxuLy8gICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuY2xvc2UtcG9wdXAnLCBmdW5jdGlvbigpe1xuLy8gICAgICAgICAkKCcudmlkZW8tcG9wdXAnKS5jc3MoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7XG4vLyAgICAgICAgICQoJy52aWRlby1wb3B1cCcpLmNzcygnb3BhY2l0eScsICcwJyk7XG4vLyAgICAgICAgICQoJy5wb3B1cC1vdmVybGF5JykuY3NzKCd2aXNpYmlsaXR5JywgJ2hpZGRlbicpO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgLy9WaWRlb1xuLy8gICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcudmlkZW8tYnV0dG9uJywgZnVuY3Rpb24oKXtcbi8vICAgICAgICAgJCgnLnZpZGVvLXBvcHVwJykuY3NzKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcbi8vICAgICAgICAgJCgnLnZpZGVvLXBvcHVwJykuY3NzKCdvcGFjaXR5JywgJzEnKTtcbi8vICAgICAgICAgJCgnLnBvcHVwLW92ZXJsYXknKS5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgLy9tZWRpYSBsaWdodGJveCAodmlkZW8pXG4vLyAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5pbWFnZS1vdmVybGF5JywgZnVuY3Rpb24oKXtcbi8vICAgICAgICAgJCgnLmlmcmFtZScpLnRvZ2dsZUNsYXNzKCdvcGVuJyk7XG4vLyAgICAgfSk7XG4vLyAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5jbG9zZS1wb3B1cCcsIGZ1bmN0aW9uKCl7XG4vLyAgICAgICAgICQoJy5pZnJhbWUnKS5yZW1vdmVDbGFzcygnb3BlbicpO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5wb3B1cC1vdmVybGF5JywgZnVuY3Rpb24oKXtcbi8vICAgICAgICAgJCgnLnZpZGVvLXBvcHVwJykuY3NzKCd2aXNpYmlsaXR5JywgJ2hpZGRlbicpO1xuLy8gICAgICAgICAkKCcudmlkZW8tcG9wdXAnKS5jc3MoJ29wYWNpdHknLCAnMCcpO1xuLy8gICAgICAgICAkKCcucG9wdXAtb3ZlcmxheScpLmNzcygndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcbi8vICAgICB9KTtcbi8vICAgICAvL0FkZCB0byBob3ZlclxuLy8gICAgICQoJy5hZGQtdG8tY2FsJykuaG92ZXIoZnVuY3Rpb24gKCkge1xuLy8gICAgICAgICAkKCcuYWRkLXRvLWxpbmtzJykuc3RvcCgpLnNsaWRlVG9nZ2xlKCdzbG93Jyk7XG4vLyBcdH0pO1xuXG4vLyAgICAgLy8gQWNhZGVtaWMgRmlsdGVyXG4vLyAgICAgY29uc3QgY3VycmVudFllYXIgPSAobmV3IERhdGUpLmdldEZ1bGxZZWFyKCk7XG4vLyAgICAgaWYgKCFnZXRVcmxQYXJhbWV0ZXIoJ19zZm1fYWNhZGVtaWNfdGVybScpICYmICFnZXRVcmxQYXJhbWV0ZXIoJ19zZm1fYWNhZGVtaWNfeWVhcicpKSB7XG4vLyAgICAgICAgIGNvbnNvbGUubG9nKCdub3QgZmlsdGVyZWQnLCBjdXJyZW50WWVhcik7XG4vLyAgICAgICAgICQoJy5hY2FkZW1pYy1jYWxlbmRhcl9maWx0ZXIgZm9ybSA+IHVsIGxpOmZpcnN0LWNoaWxkIHVsIGxpOm50aC1jaGlsZCgyKScpLmFkZENsYXNzKCdzZi1vcHRpb24tYWN0aXZlJyk7XG4vLyAgICAgICAgICQoJy5hY2FkZW1pYy1jYWxlbmRhcl9maWx0ZXIgZm9ybSA+IHVsIGxpOmZpcnN0LWNoaWxkIHVsIGxpOm50aC1jaGlsZCgyKSBpbnB1dCcpLmF0dHIoJ2NoZWNrZWQnLCAnY2hlY2tlZCcpO1xuLy8gICAgICAgICAkKCcuYWNhZGVtaWMtY2FsZW5kYXJfZmlsdGVyIGZvcm0gPiB1bCBsaTpsYXN0LWNoaWxkIHNlbGVjdCBvcHRpb246Y29udGFpbnMoXCInICsgY3VycmVudFllYXIgKyAnXCIpJykuYWRkQ2xhc3MoJ3NmLW9wdGlvbi1hY3RpdmUnKTtcbi8vICAgICAgICAgJCgnLmFjYWRlbWljLWNhbGVuZGFyX2ZpbHRlciBmb3JtID4gdWwgbGk6bGFzdC1jaGlsZCBzZWxlY3Qgb3B0aW9uOmNvbnRhaW5zKFwiJyArIGN1cnJlbnRZZWFyICsgJ1wiKScpLmF0dHIoJ3NlbGVjdGVkJywgJ3NlbGVjdGVkJyk7XG4vLyAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgY29uc29sZS5sb2coJ2ZpbHRlcmVkJyk7XG4vLyAgICAgfVxuXG5cbi8vICAgICAvL01ha2UgY2FyZHMgY29vbGVyIGluIGdlbmVyYWxcbi8vICAgICB2YXIgJHNhbWVIZWlnaHRIZWFkZXIgPSAkKCcuY29udGVudC1jYXJkc19pdGVtIC5tYWluLXRleHQnKTtcbi8vICAgICB2YXIgJGxhc3REaXYgPSAkKCcuY29udGVudC1jYXJkc19pdGVtOm50aC1jaGlsZChvZGQpOmxhc3QtY2hpbGQgLm1haW4tdGV4dCcpO1xuLy8gICAgIHZhciBtYXhIZWlnaHQgPSAwO1xuLy8gICAgICRzYW1lSGVpZ2h0SGVhZGVyLmVhY2goZnVuY3Rpb24oKSB7XG4vLyAgICAgICAgIG1heEhlaWdodCA9IE1hdGgubWF4KG1heEhlaWdodCwgJCh0aGlzKS5vdXRlckhlaWdodCgpKTtcbi8vICAgICB9KTtcbi8vICAgICAkc2FtZUhlaWdodEhlYWRlci5jc3MoeyBoZWlnaHQ6IG1heEhlaWdodCArICdweCcgfSk7XG4vLyAgICAgJGxhc3REaXYuY3NzKHtoZWlnaHQ6J2F1dG8nfSk7XG5cbi8vICAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xuLy8gICAgICAgICB2YXIgJHNhbWVIZWlnaHRIZWFkZXIyID0gJCgnLmNvbnRlbnQtY2FyZHNfaXRlbSAubWFpbi10ZXh0Jyk7XG4vLyAgICAgICAgIHZhciAkbGFzdERpdjIgPSAkKCcuY29udGVudC1jYXJkc19pdGVtOm50aC1jaGlsZChvZGQpOmxhc3QtY2hpbGQgLm1haW4tdGV4dCcpO1xuLy8gICAgICAgICB2YXIgbWF4SGVpZ2h0MiA9IDA7XG4vLyAgICAgICAgICRzYW1lSGVpZ2h0SGVhZGVyMi5lYWNoKGZ1bmN0aW9uKCkge1xuLy8gICAgICAgICAgICAgbWF4SGVpZ2h0MiA9IE1hdGgubWF4KG1heEhlaWdodDIsICQodGhpcykub3V0ZXJIZWlnaHQoKSk7XG4vLyAgICAgICAgIH0pO1xuLy8gICAgICAgICAkc2FtZUhlaWdodEhlYWRlcjIuY3NzKHsgaGVpZ2h0OiBtYXhIZWlnaHQyICsgJ3B4JyB9KTtcbi8vICAgICAgICAgJGxhc3REaXYyLmNzcyh7aGVpZ2h0OidhdXRvJ30pO1xuLy8gICAgIH0pO1xuXG4vLyB9KTtcblxuLy8gLyoqXG4vLyAgKiBHZXQgc2VhcmNoIHBhcmFtIGZyb20gdXJsXG4vLyAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuLy8gICovXG4vLyBmdW5jdGlvbiBnZXRVcmxQYXJhbWV0ZXIobmFtZSkge1xuLy8gICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtdLywgJ1xcXFxbJykucmVwbGFjZSgvW1xcXV0vLCAnXFxcXF0nKVxuLy8gICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoJ1tcXFxcPyZdJyArIG5hbWUgKyAnPShbXiYjXSopJylcbi8vICAgICB2YXIgcmVzdWx0cyA9IHJlZ2V4LmV4ZWMobG9jYXRpb24uc2VhcmNoKVxuLy8gICAgIHJldHVybiByZXN1bHRzID09PSBudWxsID8gJycgOiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1sxXS5yZXBsYWNlKC9cXCsvZywgJyAnKSlcbi8vIH1cbiJdfQ==
